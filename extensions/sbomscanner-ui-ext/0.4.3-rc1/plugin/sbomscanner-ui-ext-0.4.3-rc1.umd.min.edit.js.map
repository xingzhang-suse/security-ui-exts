{"version":3,"file":"sbomscanner-ui-ext-0.4.3-rc1.umd.min.edit.js","mappings":"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","sources":["webpack://sbomscanner-ui-ext-0.4.3-rc1/./edit/sbomscanner.kubewarden.io.registry.vue?bb22","webpack://sbomscanner-ui-ext-0.4.3-rc1/./edit/sbomscanner.kubewarden.io.registry.vue","webpack://sbomscanner-ui-ext-0.4.3-rc1/./edit/sbomscanner.kubewarden.io.registry.vue?8d70","webpack://sbomscanner-ui-ext-0.4.3-rc1/./edit/sbomscanner.kubewarden.io.registry.vue?0825","webpack://sbomscanner-ui-ext-0.4.3-rc1/./edit/sbomscanner.kubewarden.io.vexhub.vue","webpack://sbomscanner-ui-ext-0.4.3-rc1/./edit/sbomscanner.kubewarden.io.vexhub.vue?2ffd","webpack://sbomscanner-ui-ext-0.4.3-rc1/./edit/sbomscanner.kubewarden.io.vexhub.vue?482b","webpack://sbomscanner-ui-ext-0.4.3-rc1/./edit/sbomscanner.kubewarden.io.vexhub.vue?3671"],"sourcesContent":["// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-23.use[1]!../../../node_modules/vue-loader/dist/stylePostLoader.js!../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-23.use[2]!../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-23.use[3]!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-23.use[4]!../../../node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[1]!./sbomscanner.kubewarden.io.registry.vue?vue&type=style&index=0&id=18ab0bd4&lang=scss&scoped=true\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"f7b459c4\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","<script>\nimport CreateEditView from '@shell/mixins/create-edit-view';\nimport { LabeledInput } from '@components/Form/LabeledInput';\nimport NameNsDescription from '@shell/components/form/NameNsDescription';\nimport CruResource from '@shell/components/CruResource';\nimport LabeledSelect from '@shell/components/form/LabeledSelect';\nimport Banner from '@components/Banner/Banner.vue';\nimport { SECRET } from '@shell/config/types';\nimport {\n  REGISTRY_TYPE,\n  REGISTRY_TYPE_OPTIONS,\n  SCAN_INTERVAL_OPTIONS, SCAN_INTERVALS\n} from '@sbomscanner-ui-ext/constants';\nimport { PRODUCT_NAME, PAGE, LOCAT_HOST } from '@sbomscanner-ui-ext/types';\nimport { SECRET_TYPES } from '@shell/config/secret';\n\nexport default {\n  name: 'CruRegistry',\n\n  components: {\n    LabeledInput,\n    NameNsDescription,\n    CruResource,\n    LabeledSelect,\n    Banner,\n  },\n\n  mixins: [CreateEditView],\n\n  async fetch() {\n    this.allSecrets = await this.$store.dispatch(\n      `${ this.inStore }/findAll`, { type: SECRET }\n    );\n  },\n\n  data() {\n    if (!this.value.spec) {\n      this.value.spec = {\n        catalogType:  REGISTRY_TYPE.OCI_DISTRIBUTION,\n        authSecret:   '',\n        uri:          '',\n        repositories: [],\n        scanInterval: SCAN_INTERVALS.MANUAL,\n      };\n    }\n\n    if ( this.value.spec.scanInterval === null) {\n      this.value.spec.scanInterval = SCAN_INTERVALS.MANUAL;\n    }\n\n    return {\n      inStore:         this.$store.getters['currentProduct'].inStore,\n      errors:          null,\n      allSecrets:      null,\n      filteredSecrets: null,\n      PAGE,\n      PRODUCT_NAME,\n      authLoading:     false,\n    };\n  },\n\n  computed: {\n\n    /**\n     * Build the options list for the authentication dropdown\n     */\n    options() {\n      const headerOptions = [\n        {\n          label: this.t('imageScanner.registries.configuration.cru.authentication.create'),\n          value: 'create',\n          kind:  'highlighted'\n        },\n        {\n          label:    'divider',\n          disabled: true,\n          kind:     'divider'\n        },\n        {\n          label: this.t('generic.none'),\n          value: '',\n        }\n      ];\n\n      if (!this.allSecrets) {\n        return headerOptions;\n      }\n\n      const currentNamespace = this.value.metadata?.namespace ?? 'default';\n\n      const secretOptions = this.allSecrets\n        .filter((secret) => {\n          return secret.metadata.namespace === currentNamespace &&\n                secret._type === SECRET_TYPES.DOCKER_JSON;\n        })\n        .map((secret) => {\n          const name = secret.metadata.name;\n\n          return {\n            label: name,\n            value: name,\n          };\n        });\n\n      return [\n        ...headerOptions,\n        ...secretOptions\n      ];\n    },\n\n    SCAN_INTERVAL_OPTIONS() {\n      return SCAN_INTERVAL_OPTIONS;\n    },\n\n    selectedScanInterval: {\n      get() {\n        const currentInterval = this.value.spec.scanInterval;\n\n        if (!currentInterval || currentInterval === SCAN_INTERVALS.MANUAL ) {\n          return SCAN_INTERVALS.MANUAL;\n        }\n\n        return currentInterval;\n      },\n      set(newValue) {\n        this.value.spec.scanInterval = newValue;\n      }\n    },\n\n    REGISTRY_TYPE_OPTIONS() {\n      return REGISTRY_TYPE_OPTIONS;\n    },\n\n    REGISTRY_TYPE() {\n      return REGISTRY_TYPE;\n    },\n\n    /**\n     * Validation for the CruResource save button.\n     */\n    validationPassed() {\n      const spec = this.value?.spec || {};\n\n      const hasName = !!this.value?.metadata?.name?.trim();\n      const hasCatalogType = !!spec.catalogType;\n      const hasUri = !!spec.uri?.trim();\n\n      const requiresRepositories = spec.catalogType === REGISTRY_TYPE.NO_CATALOG;\n      const hasRepositories = !requiresRepositories || !!spec.repositories?.length;\n\n      const validSecret = spec.authSecret !== 'create';\n\n      return hasName && hasCatalogType && hasUri && hasRepositories && validSecret;\n    },\n\n    secretCreateUrl() {\n      const clusterId = this.$route.params.cluster;\n\n      return `${ LOCAT_HOST.includes(window.location.host) ? '' : '/dashboard' }/c/${ clusterId }/explorer/secret/create?scope=namespaced`;\n    },\n  },\n\n  methods: {\n    async finish(event) {\n      if (this.value.spec.scanInterval === SCAN_INTERVALS.MANUAL) {\n        delete this.value.spec.scanInterval;\n      }\n\n      try {\n        await this.save(event);\n      } catch (e) {\n        this.errors = [e];\n      } finally {\n        if (!this.errors || this.errors.length === 0) {\n          this.$router.push({\n            name:   `c-cluster-${ PRODUCT_NAME }-${ PAGE.REGISTRIES }`,\n            params: {\n              cluster: this.$route.params.cluster,\n              product: PRODUCT_NAME\n            }\n          });\n        }\n      }\n    },\n\n    /**\n     * Manually refresh the list of secrets for the dropdown.\n     */\n    async refreshList() {\n      this.authLoading = true;\n      try {\n        this.allSecrets = await this.$store.dispatch(\n          `${ this.inStore }/findAll`, { type: SECRET }\n        );\n      } catch (e) {\n        this.errors = [e];\n      } finally {\n        this.authLoading = false;\n      }\n    },\n  }\n};\n</script>\n\n<template>\n  <div class=\"filled-height\">\n    <CruResource\n      :done-route=\"doneRoute\"\n      :mode=\"mode\"\n      :resource=\"value\"\n      :subtypes=\"[]\"\n      :errors=\"errors\"\n      :validation-passed=\"validationPassed\"\n      @finish=\"finish\"\n      @cancel=\"done\"\n    >\n      <NameNsDescription\n        name-label=\"imageScanner.registries.configuration.cru.registry.label\"\n        :value=\"value\"\n        :mode=\"mode\"\n        @update:value=\"$emit('input', $event)\"\n      />\n\n      <div class=\"registry-input-label\">\n        {{ t('imageScanner.registries.configuration.cru.registry.label') }}\n      </div>\n\n      <div class=\"row\">\n        <div class=\"col span-6\">\n          <LabeledSelect\n            v-model:value=\"value.spec.catalogType\"\n            data-testid=\"registry-type-select\"\n            :label=\"t('imageScanner.registries.configuration.cru.registry.type.label')\"\n            :options=\"REGISTRY_TYPE_OPTIONS\"\n            option-key=\"value\"\n            option-label=\"label\"\n            required\n          />\n        </div>\n        <div class=\"col span-6\">\n          <LabeledInput\n            v-model:value=\"value.spec.uri\"\n            :label=\"t('imageScanner.registries.configuration.cru.registry.uri.label')\"\n            :placeholder=\"t('imageScanner.registries.configuration.cru.registry.uri.placeholder')\"\n            required\n          />\n        </div>\n      </div>\n      <div class=\"registry-input-label mt-24\">\n        {{ t('imageScanner.registries.configuration.cru.authentication.label') }}\n      </div>\n      <div class=\"row\">\n        <div class=\"col span-6\">\n          <LabeledSelect\n            v-model:value=\"value.spec.authSecret\"\n            data-testid=\"auth-secret-select\"\n            :label=\"t('imageScanner.registries.configuration.cru.authentication.label')\"\n            :mode=\"mode\"\n            :options=\"options\"\n            :loading=\"authLoading\"\n          />\n        </div>\n      </div>\n      <div\n        v-if=\"value.spec.authSecret === 'create' \"\n        class=\"row\"\n      >\n        <div class=\"col span-12\">\n          <Banner color=\"info\">\n            <div>\n              <p class=\"m-0 mb-5\">\n                {{ t('imageScanner.registries.configuration.cru.authentication.createDescriptionLine1_start') }}\n                <a\n                  :href=\"secretCreateUrl\"\n                  target=\"_blank\"\n                >\n                  {{ t('imageScanner.registries.configuration.cru.authentication.createDescriptionLine1_link') }}\n                </a>\n                {{ t('imageScanner.registries.configuration.cru.authentication.createDescriptionLine1_end') }}\n              </p>\n\n              <p class=\"m-0\">\n                {{ t('imageScanner.registries.configuration.cru.authentication.createDescriptionLine2_start') }}\n                <a\n                  href=\"#\"\n                  @click.prevent=\"refreshList\"\n                >\n                  {{ t('imageScanner.registries.configuration.cru.authentication.createDescriptionLine2_link') }}\n                </a>\n                {{ t('imageScanner.registries.configuration.cru.authentication.createDescriptionLine2_end') }}\n              </p>\n            </div>\n          </Banner>\n        </div>\n      </div>\n      <div :class=\"['registry-input-label', { 'mt-24': value.spec.authSecret !== 'create' }]\">\n        {{ t('imageScanner.registries.configuration.cru.scan.label') }}\n      </div>\n\n      <div class=\"row\">\n        <div class=\"col span-6\">\n          <LabeledSelect\n            v-model:value=\"value.spec.repositories\"\n            data-testid=\"registry-scanning-repository-names\"\n            :taggable=\"true\"\n            :searchable=\"true\"\n            :push-tags=\"true\"\n            :close-on-select=\"false\"\n            :mode=\"mode\"\n            :multiple=\"true\"\n            :label=\"t('imageScanner.registries.configuration.cru.scan.repoName')\"\n            :placeholder=\"value.spec.catalogType === REGISTRY_TYPE.OCI_DISTRIBUTION ? t('imageScanner.registries.configuration.cru.scan.placeholder.ociDistribution') : t('imageScanner.registries.configuration.cru.scan.placeholder.nocatalog')\"\n            :options=\"value.spec.repositories || []\"\n            :disabled=\"mode==='view'\"\n            :required=\"value.spec.catalogType === REGISTRY_TYPE.NO_CATALOG\"\n          />\n        </div>\n        <div class=\"col span-3\">\n          <LabeledSelect\n            v-model:value=\"selectedScanInterval\"\n            data-testid=\"registry-scanning-interval-select\"\n            :placeholder=\"t('imageScanner.registries.configuration.cru.scan.schedule.placeholder', { manualScan: t('imageScanner.registries.configuration.cru.scan.schedule.manualScan') })\"\n            :options=\"SCAN_INTERVAL_OPTIONS\"\n            option-key=\"value\"\n            option-label=\"label\"\n            :label=\"t('imageScanner.registries.configuration.cru.scan.schedule.label')\"\n            required\n          />\n        </div>\n      </div>\n    </CruResource>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n.registry-input-label {\n  margin-bottom: 16px;\n  font-size: 16px;\n  line-height: 20px;\n  font-weight: 400;\n  font-family: 'Lato', sans-serif;\n  color: var(--disabled-text);\n  display: block;\n}\n.mt-24 {\n  margin-top: 24px;\n}\n</style>\n","import { render } from \"./sbomscanner.kubewarden.io.registry.vue?vue&type=template&id=18ab0bd4&scoped=true\"\nimport script from \"./sbomscanner.kubewarden.io.registry.vue?vue&type=script&lang=js\"\nexport * from \"./sbomscanner.kubewarden.io.registry.vue?vue&type=script&lang=js\"\n\nimport \"./sbomscanner.kubewarden.io.registry.vue?vue&type=style&index=0&id=18ab0bd4&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-18ab0bd4\"]])\n\nexport default __exports__","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".registry-input-label[data-v-18ab0bd4]{margin-bottom:16px;font-size:16px;line-height:20px;font-weight:400;font-family:Lato,sans-serif;color:var(--disabled-text);display:block}.mt-24[data-v-18ab0bd4]{margin-top:24px}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","<script>\nimport NameNsDescription from '@shell/components/form/NameNsDescription.vue';\nimport CruResource from '@shell/components/CruResource.vue';\nimport { Checkbox } from '@components/Form/Checkbox';\nimport { LabeledInput } from '@components/Form/LabeledInput';\nimport CreateEditView from '@shell/mixins/create-edit-view';\nimport { PAGE, PRODUCT_NAME } from '@sbomscanner-ui-ext/types/sbomscanner';\n\nexport default {\n  name: 'CruVexHub',\n\n  components: {\n    LabeledInput,\n    NameNsDescription,\n    CruResource,\n    Checkbox,\n  },\n\n  mixins: [CreateEditView],\n\n  data() {\n    if (!this.value.spec) {\n      this.value.spec = {\n        url:     '',\n        enabled: true,\n      };\n    }\n\n    return {\n      errors: null,\n      PAGE,\n      PRODUCT_NAME,\n    };\n  },\n};\n</script>\n<template>\n  <div class=\"filled-height\">\n    <CruResource\n      :done-route=\"doneRoute\"\n      :mode=\"mode\"\n      :resource=\"value\"\n      :subtypes=\"[]\"\n      :validation-passed=\"true\"\n      :errors=\"errors\"\n      :cancel-event=\"true\"\n      @error=\"(e) => (errors = e)\"\n      @finish=\"save\"\n      @cancel=\"done\"\n    >\n      <NameNsDescription\n        :value=\"value\"\n        :mode=\"mode\"\n        :namespaced=\"false\"\n        description-placeholder=\"imageScanner.vexManagement.cru.desc.placeholder\"\n        @update:value=\"$emit('input', $event)\"\n      />\n      <div class=\"row\">\n        <div class=\"col span-9\">\n          <LabeledInput\n            v-model:value=\"value.spec.url\"\n            :mode=\"mode\"\n            :label=\"t('imageScanner.vexManagement.cru.uri.label')\"\n            placeholder-key=\"imageScanner.vexManagement.cru.uri.placeholder\"\n            :required=\"true\"\n          />\n        </div>\n      </div>\n      <div class=\"row mt-16\">\n        <Checkbox\n          v-model:value=\"value.spec.enabled\"\n          :tooltip=\"t('imageScanner.vexManagement.cru.enable.tooltip')\"\n          data-testid=\"imageScanner-vexManagement-cru-enable-checkbox\"\n          class=\"check\"\n          type=\"checkbox\"\n          label-key=\"imageScanner.vexManagement.cru.enable.label\"\n          :mode=\"mode\"\n        />\n      </div>\n    </CruResource>\n  </div>\n</template>\n<style lang=\"scss\" scoped>\n.mt-16 {\n  margin-top: 16px;\n}\n</style>\n","import { render } from \"./sbomscanner.kubewarden.io.vexhub.vue?vue&type=template&id=1d5686a6&scoped=true\"\nimport script from \"./sbomscanner.kubewarden.io.vexhub.vue?vue&type=script&lang=js\"\nexport * from \"./sbomscanner.kubewarden.io.vexhub.vue?vue&type=script&lang=js\"\n\nimport \"./sbomscanner.kubewarden.io.vexhub.vue?vue&type=style&index=0&id=1d5686a6&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-1d5686a6\"]])\n\nexport default __exports__","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".mt-16[data-v-1d5686a6]{margin-top:16px}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-23.use[1]!../../../node_modules/vue-loader/dist/stylePostLoader.js!../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-23.use[2]!../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-23.use[3]!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-23.use[4]!../../../node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[1]!./sbomscanner.kubewarden.io.vexhub.vue?vue&type=style&index=0&id=1d5686a6&lang=scss&scoped=true\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"ced37f82\", content, true, {\"sourceMap\":false,\"shadowMode\":false});"],"names":["content","__esModule","default","module","id","locals","exports","add","class","_createElementBlock","_hoisted_1","_createVNode","_component_CruResource","_ctx","doneRoute","mode","resource","value","subtypes","errors","$data","$options","validationPassed","onFinish","finish","onCancel","done","_component_NameNsDescription","_cache","$event","$emit","_createElementVNode","_hoisted_2","_toDisplayString","t","_hoisted_3","_hoisted_4","_component_LabeledSelect","spec","catalogType","label","options","REGISTRY_TYPE_OPTIONS","required","_hoisted_5","_component_LabeledInput","uri","placeholder","_hoisted_6","_hoisted_7","_hoisted_8","authSecret","loading","authLoading","_hoisted_9","_hoisted_10","_component_Banner","color","_hoisted_11","href","secretCreateUrl","target","_hoisted_12","_hoisted_13","onClick","_withModifiers","args","refreshList","_normalizeClass","_hoisted_14","_hoisted_15","repositories","taggable","searchable","multiple","REGISTRY_TYPE","OCI_DISTRIBUTION","disabled","NO_CATALOG","_hoisted_16","selectedScanInterval","manualScan","SCAN_INTERVAL_OPTIONS","name","components","LabeledInput","NameNsDescription","CruResource","LabeledSelect","Banner","mixins","CreateEditView","fetch","this","allSecrets","$store","dispatch","inStore","type","SECRET","data","scanInterval","SCAN_INTERVALS","MANUAL","getters","filteredSecrets","PAGE","PRODUCT_NAME","computed","headerOptions","kind","currentNamespace","metadata","namespace","secretOptions","filter","secret","_type","SECRET_TYPES","DOCKER_JSON","map","get","currentInterval","set","newValue","hasName","trim","hasCatalogType","hasUri","requiresRepositories","hasRepositories","length","validSecret","clusterId","$route","params","cluster","LOCAT_HOST","includes","window","location","host","methods","event","save","e","$router","push","REGISTRIES","product","__exports__","render","___CSS_LOADER_EXPORT___","onError","namespaced","url","_component_Checkbox","enabled","tooltip","Checkbox"],"sourceRoot":""}