(("undefined"!==typeof self?self:this)["webpackChunksbomscanner_ui_ext_0_3_0"]=("undefined"!==typeof self?self:this)["webpackChunksbomscanner_ui_ext_0_3_0"]||[]).push([[516],{45:function(e,t,a){var o=a(85133);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var r=a(74825).A;r("4518b4a0",o,!0,{sourceMap:!1,shadowMode:!1})},531:function(e,t,a){var o=a(74803);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var r=a(74825).A;r("546dc898",o,!0,{sourceMap:!1,shadowMode:!1})},3367:function(e,t,a){"use strict";a.r(t);var o=a(36758),r=a.n(o),n=a(40935),s=a.n(n),i=s()(r());i.push([e.id,".cru-resource-footer{display:flex;justify-content:flex-end;margin-top:20px;z-index:19}.cru-resource-footer .btn{margin-left:20px}",""]),t["default"]=i},3369:function(e,t){"use strict";var a=this&&this.__assign||function(){return a=Object.assign||function(e){for(var t,a=1,o=arguments.length;a<o;a++)for(var r in t=arguments[a],t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},a.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.isValidCron=void 0;var o=function(e){return/^\d+$/.test(e)?Number(e):NaN},r=function(e){return"*"===e},n=function(e){return"?"===e},s=function(e,t,a){return e>=t&&e<=a},i=function(e,t,a){var n=e.split("-");switch(n.length){case 1:return r(e)||s(o(e),t,a);case 2:var i=n.map((function(e){return o(e)})),l=i[0],c=i[1];return l<=c&&s(l,t,a)&&s(c,t,a);default:return!1}},l=function(e){return void 0===e||-1===e.search(/[^\d]/)&&o(e)>0},c=function(e,t,a){if(-1!==e.search(/[^\d-,\/*]/))return!1;var o=e.split(",");return o.every((function(e){var o=e.split("/");if(e.trim().endsWith("/"))return!1;if(o.length>2)return!1;var r=o[0],n=o[1];return i(r,t,a)&&l(n)}))},d=function(e){return c(e,0,59)},p=function(e){return c(e,0,59)},u=function(e){return c(e,0,23)},m=function(e,t){return t&&n(e)||c(e,1,31)},h={jan:"1",feb:"2",mar:"3",apr:"4",may:"5",jun:"6",jul:"7",aug:"8",sep:"9",oct:"10",nov:"11",dec:"12"},b=function(e,t){if(-1!==e.search(/\/[a-zA-Z]/))return!1;if(t){var a=e.toLowerCase().replace(/[a-z]{3}/g,(function(e){return void 0===h[e]?e:h[e]}));return c(a,1,12)}return c(e,1,12)},f={sun:"0",mon:"1",tue:"2",wed:"3",thu:"4",fri:"5",sat:"6"},v=function(e,t){var a=t.allowBlankDay,r=t.alias,i=t.allowSevenAsSunday,l=t.allowNthWeekdayOfMonth;if(a&&n(e))return!0;if(!a&&n(e))return!1;if(-1!==e.search(/\/[a-zA-Z]/))return!1;var d=r?e.toLowerCase().replace(/[a-z]{3}/g,(function(e){return void 0===f[e]?e:f[e]})):e,p=i?7:6,u=d.split("#");if(l&&u.length>=2){var m=u[0],h=u[1],b=u.slice(2);return 0===b.length&&(s(o(h),1,5)&&s(o(m),0,p))}return c(d,0,p)},y=function(e,t,a){return!(a&&n(e)&&n(t))},g=function(e){return e.trim().split(/\s+/)},k={alias:!1,seconds:!1,allowBlankDay:!1,allowSevenAsSunday:!1,allowNthWeekdayOfMonth:!1};t.isValidCron=function(e,t){var o=a(a({},k),t),r=g(e);if(r.length>(o.seconds?6:5)||r.length<5)return!1;var n=[];if(6===r.length){var s=r.shift();s&&n.push(d(s))}var i=r[0],l=r[1],c=r[2],h=r[3],f=r[4];return n.push(p(i)),n.push(u(l)),n.push(m(c,o.allowBlankDay)),n.push(b(h,o.alias)),n.push(v(f,o)),n.push(y(c,f,o.allowBlankDay)),n.every(Boolean)}},9530:function(e,t,a){"use strict";a.r(t);var o=a(36758),r=a.n(o),n=a(40935),s=a.n(n),i=s()(r());i.push([e.id,".labeled-input.view input[data-v-1590120c]{text-overflow:ellipsis}.hideArrows input[data-v-1590120c]::-webkit-inner-spin-button,.hideArrows input[data-v-1590120c]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.hideArrows input[type=number][data-v-1590120c]{-moz-appearance:textfield}",""]),t["default"]=i},17259:function(e,t,a){"use strict";a.d(t,{J:function(){return o}});const o={OPAQUE:"Opaque",SERVICE_ACCT:"kubernetes.io/service-account-token",DOCKER_JSON:"kubernetes.io/dockerconfigjson",BASIC:"kubernetes.io/basic-auth",SSH:"kubernetes.io/ssh-auth",TLS:"kubernetes.io/tls",BOOTSTRAP:"bootstrap.kubernetes.io/token",ISTIO_TLS:"istio.io/key-and-cert",HELM_RELEASE:"helm.sh/release.v1",FLEET_CLUSTER:"fleet.cattle.io/cluster-registration-values",CLOUD_CREDENTIAL:"provisioning.cattle.io/cloud-credential",RKE_AUTH_CONFIG:"rke.cattle.io/auth-config",FLEET_OCI_STORAGE:"fleet.cattle.io/bundle-oci-storage/v1alpha1"}},21255:function(e,t,a){var o=a(3367);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var r=a(74825).A;r("631276d2",o,!0,{sourceMap:!1,shadowMode:!1})},39802:function(e,t,a){"use strict";e.exports=a.p+"img/generic-catalog.1842a50e.svg"},40527:function(e,t,a){"use strict";a.d(t,{A:function(){return N}});var o=a(9274);const r={class:"row mb-20"},n=["data-testid"],s=["aria-label"],i={class:"icon icon-close align-value"},l=["data-testid"],c=["data-testid"],d=["data-testid"],p={key:3,class:"spacer"};function u(e,t,a,u,m,h){const b=(0,o.resolveComponent)("LabeledInput"),f=(0,o.resolveComponent)("LabeledSelect"),v=(0,o.resolveDirective)("clean-tooltip");return(0,o.openBlock)(),(0,o.createElementBlock)("div",r,[(0,o.renderSlot)(e.$slots,"project-selector",{},void 0,!0),a.namespaced&&!a.nameNsHidden&&m.createNamespace?((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:0,"data-testid":a.componentTestid+"-namespace-create",class:"col span-3"},[(0,o.createVNode)(b,{ref:"namespaceInput",value:u.namespace,"onUpdate:value":t[0]||(t[0]=e=>u.namespace=e),label:e.t("namespace.label"),placeholder:e.t("namespace.createNamespace"),disabled:h.namespaceReallyDisabled,mode:a.mode,"min-height":30,required:a.nameRequired,rules:a.rules.namespace},null,8,["value","label","placeholder","disabled","mode","required","rules"]),(0,o.createElementVNode)("button",{"aria-label":e.t("namespace.cancelCreateAriaLabel"),onClick:t[1]||(t[1]=(...e)=>h.cancelCreateNamespace&&h.cancelCreateNamespace(...e))},[(0,o.withDirectives)((0,o.createElementVNode)("i",i,null,512),[[v,e.t("generic.cancel")]])],8,s)],8,n)):(0,o.createCommentVNode)("",!0),!a.namespaced||a.nameNsHidden||m.createNamespace?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:1,"data-testid":a.componentTestid+"-namespace",class:"col span-3"},[(0,o.withDirectives)((0,o.createVNode)(f,{value:u.namespace,"onUpdate:value":t[2]||(t[2]=e=>u.namespace=e),clearable:!0,options:u.options,disabled:h.namespaceReallyDisabled,searchable:!0,mode:a.mode,multiple:!1,label:e.t("namespace.label"),placeholder:e.t("namespace.selectOrCreate"),rules:a.rules.namespace,required:"",onSelecting:h.selectNamespace},null,8,["value","options","disabled","mode","label","placeholder","rules","onSelecting"]),[[o.vShow,!m.createNamespace]])],8,l)),a.nameHidden||a.nameNsHidden?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:2,"data-testid":a.componentTestid+"-name",class:"col span-3"},[(0,o.createVNode)(b,{ref:"nameInput",key:"name",value:u.name,"onUpdate:value":t[3]||(t[3]=e=>u.name=e),"data-testid":"NameNsDescriptionNameInput",label:e.t(a.nameLabel),placeholder:e.t(a.namePlaceholder),disabled:h.nameReallyDisabled,mode:a.mode,"min-height":30,required:a.nameRequired,rules:a.rules.name},null,8,["value","label","placeholder","disabled","mode","required","rules"])],8,c)),(0,o.renderSlot)(e.$slots,"customize",{},void 0,!0),(0,o.withDirectives)((0,o.createElementVNode)("div",{"data-testid":a.componentTestid+"-description",class:(0,o.normalizeClass)(["col",a.extraColumns.length>0?"span-3":"span-6"])},[(0,o.createVNode)(b,{key:"description",value:u.description,"onUpdate:value":t[4]||(t[4]=e=>u.description=e),mode:a.mode,disabled:a.descriptionDisabled,label:e.t(a.descriptionLabel),placeholder:e.t(a.descriptionPlaceholder),"min-height":30,rules:a.rules.description},null,8,["value","mode","disabled","label","placeholder","rules"])],10,d),[[o.vShow,!a.descriptionHidden]]),((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(a.extraColumns,((t,a)=>((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:a,class:(0,o.normalizeClass)({col:!0,[h.colSpan]:!0})},[(0,o.renderSlot)(e.$slots,t,{},void 0,!0)],2)))),128)),a.showSpacer?((0,o.openBlock)(),(0,o.createElementBlock)("div",p)):(0,o.createCommentVNode)("",!0)])}var m=a(65359),h=a(76978),b=a(74302),f=a(35664),v=a(2841),y=a(14220),g=a(69552),k=a(96234);function S(e){return(e||"").trim().toLowerCase().replace(/\s+/g,"-").replace(/-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")}var x=a(95457),B={name:"NameNsDescription",emits:["update:value","isNamespaceNew"],components:{LabeledInput:g.o,LabeledSelect:k.A},props:{value:{type:Object,required:!0},mode:{type:String,required:!0},nameHidden:{type:Boolean,default:!1},nameNsHidden:{type:Boolean,default:!1},descriptionHidden:{type:Boolean,default:!1},extraColumns:{type:Array,default:()=>[]},nameLabel:{type:String,default:"nameNsDescription.name.label"},nameEditable:{type:Boolean,default:!1},namePlaceholder:{type:String,default:"nameNsDescription.name.placeholder"},nameDisabled:{type:Boolean,default:!1},nameRequired:{type:Boolean,default:!0},nameNormalized:{type:Boolean,default:!0},namespaced:{type:Boolean,default:!0},namespaceFilter:{type:Function,default:null},namespaceMapper:{type:Function,default:null},namespaceType:{type:String,default:f.CU},namespaceLabel:{type:String,default:"nameNsDescription.namespace.label"},namespacePlaceholder:{type:String,default:"nameNsDescription.namespace.placeholder"},namespaceDisabled:{type:Boolean,default:!1},namespaceNewAllowed:{type:Boolean,default:!1},noDefaultNamespace:{type:Boolean,default:!1},namespacesOverride:{type:Array,default:null},namespaceOptions:{type:Array,default:null},createNamespaceOverride:{type:Boolean,default:!1},descriptionLabel:{type:String,default:"nameNsDescription.description.label"},descriptionPlaceholder:{type:String,default:"nameNsDescription.description.placeholder"},descriptionDisabled:{type:Boolean,default:!1},nameKey:{type:String,default:null},namespaceKey:{type:String,default:null},descriptionKey:{type:String,default:null},forceNamespace:{type:String,default:null},showSpacer:{type:Boolean,default:!0},horizontal:{type:Boolean,default:!0},rules:{default:()=>({namespace:[],name:[],description:[]}),type:Object},componentTestid:{type:String,default:"name-ns-description"}},data(){return{createNamespace:!1}},setup(e,{emit:t}){const a=(0,o.toRef)(e.value),r=a.value.metadata,n=(0,o.ref)(null),s=(0,o.ref)(null),i=(0,o.ref)(null);(0,o.watch)(s,(a=>{e.normalizeName&&(a=S(a)),e.nameKey?(0,h.hZ)(e.value,e.nameKey,a):e.value.metadata["name"]=a,t("update:value",e.value)})),e.nameKey?s.value=(0,h.Jt)(a.value,e.nameKey):s.value=r?.name||"";const l=(0,o.computed)((()=>e.mode===y.YQ)),c=(0,m.Pj)(),{t:d}=(0,x.s)(c),p=(0,o.computed)((()=>c.getters.allowedNamespaces())),u=(0,o.computed)((()=>c.getters.namespaces())),g=(0,o.computed)((()=>c.getters.currentCluster)),k=(0,o.computed)((()=>c.getters["currentStore"]())),B=(0,o.computed)((()=>c.getters[`${k.value}/schemaFor`](f.CU))),w=(0,o.computed)((()=>(B.value?.collectionMethods||[]).includes("POST")&&g.value?.canUpdate)),C=(0,o.computed)((()=>{let t;if(e.namespacesOverride)t=e.namespacesOverride;else if(e.namespaceOptions)t=(e.namespaceOptions.map((e=>e.name))||[]).sort();else{const e=l.value?p.value:u.value;t=Object.keys(e)}const a=t.map((e=>({nameDisplay:e,id:e}))).map(e.namespaceMapper||(e=>({label:e.nameDisplay,value:e.id}))),o=(0,b.Ul)(a,"label");e.forceNamespace&&o.unshift({label:e.forceNamespace,value:e.forceNamespace});const r={label:d("namespace.createNamespace"),value:"",kind:"highlighted"},n={label:"divider",disabled:!0,kind:"divider"},s=w.value||e.createNamespaceOverride?[r,n]:[];return[...s,...o]})),N=a=>{e.forceNamespace&&(a=e.forceNamespace),e.namespaced&&t("isNamespaceNew",!a||C.value&&!C.value.find((e=>e.value===a))),e.namespaceKey?(0,h.hZ)(e.value,e.namespaceKey,a):e.value.metadata.namespace=a};return e.namespaced&&(e.forceNamespace?(n.value=(0,o.toRef)(e.forceNamespace),N(n)):e.namespaceKey?n.value=(0,h.Jt)(a,e.namespaceKey):n.value=r?.namespace,n.value||e.noDefaultNamespace||(n.value=c.getters["defaultNamespace"],r&&(r.namespace=n))),e.descriptionKey?i.value=(0,h.Jt)(a.value,e.descriptionKey):i.value=r?.annotations?.[v.tC],{namespace:n,name:s,description:i,isCreate:l,options:C,updateNamespace:N}},computed:{...(0,m.i0)("cru-resource",["setCreateNamespace"]),namespaceReallyDisabled(){return!!this.forceNamespace||this.namespaceDisabled||this.mode===y.G5},nameReallyDisabled(){return this.nameDisabled||this.mode===y.G5&&!this.nameEditable},isView(){return this.mode===y.nW},showCustomize(){return this.mode===y.YQ&&this.name&&this.name.length>0},colSpan(){if(!this.horizontal)return"span-8";let e=(this.nameNsHidden?0:2)+(this.descriptionHidden?0:1)+this.extraColumns.length;e=Math.max(2,e);const t=12/e;return`span-${t}`}},watch:{namespace(e){this.updateNamespace(e),this.$emit("update:value",this.value)},description(e){this.descriptionKey?(0,h.hZ)(this.value,this.descriptionKey,e):this.value.setAnnotation(v.tC,e),this.$emit("update:value",this.value)}},mounted(){this.$nextTick((()=>{this.$refs.nameInput&&this.$refs.nameInput.focus()}))},methods:{changeNameAndNamespace(e){this.name=(e.text||"").toLowerCase(),this.namespace=e.selected},cancelCreateNamespace(e){this.createNamespace=!1,this.$parent.$emit("createNamespace",!1),this.namespace=this.$store.getters["defaultNamespace"]||this.options.find((e=>!!e.value))?.value},selectNamespace(e){e&&""!==e.value?(this.createNamespace=!1,this.$store.dispatch("cru-resource/setCreateNamespace",!1),this.$emit("isNamespaceNew",!1)):(this.createNamespace=!0,this.$store.dispatch("cru-resource/setCreateNamespace",!0),this.$emit("isNamespaceNew",!0),this.$nextTick((()=>this.$refs.namespaceInput.focus())))}}},w=(a(531),a(47433));const C=(0,w.A)(B,[["render",u],["__scopeId","data-v-135864a1"]]);var N=C},47864:function(e,t,a){"use strict";a.r(t);var o=a(36758),r=a.n(o),n=a(40935),s=a.n(n),i=s()(r());i.push([e.id,".cru-resource-yaml-container .resource-yaml .yaml-editor[data-v-0bb22665]{min-height:100px}.create-resource-container .resource-container[data-v-0bb22665]{display:flex;flex-direction:column}.create-resource-container .subtype-banner .round-image[data-v-0bb22665]{background-color:var(--primary)}.create-resource-container .subtype-banner[data-v-0bb22665]:focus-visible{outline:2px solid var(--primary-keyboard-focus)}.title[data-v-0bb22665]{margin-top:20px}.title.with-description[data-v-0bb22665]{margin-top:0}.subtype-container[data-v-0bb22665]{position:relative;display:flex;height:100%}.subtype-body[data-v-0bb22665]{flex:1;padding:10px}.subtype-logo[data-v-0bb22665]{align-items:center;display:flex;justify-content:center;min-width:100px;min-height:100px;overflow:hidden;background-color:var(--box-bg)}.subtype-logo img[data-v-0bb22665]{width:56px;height:56px;-o-object-fit:contain;object-fit:contain;position:relative;top:2px}form.create-resource-container .cru__footer[data-v-0bb22665]{border-top:var(--header-border-size) solid var(--header-border)}.cru[data-v-0bb22665],.cru__form[data-v-0bb22665]{display:flex;flex-direction:column;flex-grow:1}.cru__content[data-v-0bb22665]{flex-grow:1}.cru__content-wizard[data-v-0bb22665]{display:flex}.cru__footer[data-v-0bb22665]{right:0;bottom:0;height:60px;box-sizing:border-box;margin-left:-24px;margin-right:-24px;margin-bottom:-24px;padding:10px 24px}.cru__errors[data-v-0bb22665],.cru__footer[data-v-0bb22665]{position:sticky;background-color:var(--header-bg)}.cru__errors[data-v-0bb22665]{top:0;z-index:1;margin:10px 0}.description[data-v-0bb22665]{margin-bottom:15px;margin-top:5px}",""]),t["default"]=i},51384:function(e,t,a){var o=a(47864);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var r=a(74825).A;r("6f753afc",o,!0,{sourceMap:!1,shadowMode:!1})},51902:function(e,t,a){var o=a(92691);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var r=a(74825).A;r("71b41da6",o,!0,{sourceMap:!1,shadowMode:!1})},52115:function(e,t,a){"use strict";a.d(t,{A:function(){return tt}});var o=a(9274);const r={class:"cru"},n={key:0,class:"description"},s={key:0,id:"cru-errors",class:"cru__errors"},i={key:1,class:"subtypes-container cru__content"},l=["data-testid","aria-label","onClick","onKeyup"],c={class:"subtype-container"},d={class:"subtype-logo"},p=["src","alt"],u={key:1,class:"round-image"},m={key:0,class:"banner-abbrv"},h={key:0},b={key:1},f={class:"subtype-body"},v={key:0},y={key:1},g=["href"],k={key:0,role:"none"},S={key:1,class:"description"},x={key:0},B={key:1},w={key:0,class:"resource-container cru__content cru__content-wizard"},C={class:"controls-steps"},N=["onClick"],E=["disabled","onClick"],A=["data-testid"],$={key:4,class:"cru-resource-yaml-container resource-container cru__content"},V={class:"controls-middle"},_=["data-testid","onClick"],I=["data-testid","disabled","onClick"],D={key:0,class:"controls-right"},F=["data-testid","onClick"];function M(e,t,a,M,L,T){const z=(0,o.resolveComponent)("Banner"),R=(0,o.resolveComponent)("t"),q=(0,o.resolveComponent)("AsyncButton"),O=(0,o.resolveComponent)("CruResourceFooter"),P=(0,o.resolveComponent)("Wizard"),H=(0,o.resolveComponent)("ResourceYaml"),K=(0,o.resolveDirective)("clean-html");return(0,o.openBlock)(),(0,o.createElementBlock)("section",r,[(0,o.renderSlot)(e.$slots,"noticeBanner",{},void 0,!0),a.description?((0,o.openBlock)(),(0,o.createElementBlock)("p",n,(0,o.toDisplayString)(a.description),1)):(0,o.createCommentVNode)("",!0),((0,o.openBlock)(),(0,o.createBlock)((0,o.resolveDynamicComponent)(T.isView?"div":"form"),{value:a.resource,"data-testid":"cru-form",class:"create-resource-container cru__form",onSubmit:t[6]||(t[6]=(0,o.withModifiers)((()=>{}),["prevent"])),onKeydown:t[7]||(t[7]=(0,o.withKeys)((e=>T.onPressEnter(e)),["enter"]))},{default:(0,o.withCtx)((()=>[T.hasErrors?((0,o.openBlock)(),(0,o.createElementBlock)("div",s,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(a.errors,((e,t)=>((0,o.openBlock)(),(0,o.createBlock)(z,{key:t,color:"error","data-testid":`error-banner${t}`,label:T.stringify(T.mappedErrors[e].message),icon:T.mappedErrors[e].icon,closable:!0,onClose:e=>T.closeError(t)},null,8,["data-testid","label","icon","onClose"])))),128))])):(0,o.createCommentVNode)("",!0),T.showSubtypeSelection?((0,o.openBlock)(),(0,o.createElementBlock)("div",i,[(0,o.renderSlot)(e.$slots,"subtypes",{subtypes:a.subtypes},(()=>[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(a.subtypes,((r,n)=>((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:n,class:(0,o.normalizeClass)(["subtype-banner",{selected:r.id===T._selectedSubtype}]),"data-testid":`subtype-banner-item-${r.id}`,tabindex:"0","aria-disabled":!1,"aria-label":r.description?`${r.label} - ${r.description}`:r.label,role:"link",onClick:e=>T.selectType(r.id,e),onKeyup:(0,o.withKeys)((e=>T.selectType(r.id,e)),["enter","space"])},[(0,o.renderSlot)(e.$slots,"subtype-content",{},(()=>[(0,o.createElementVNode)("div",c,[(0,o.createElementVNode)("div",d,[r.bannerImage?((0,o.openBlock)(),(0,o.createElementBlock)("img",{key:0,src:r.bannerImage,alt:(a.resource.type?a.resource.type+": ":"")+(r.label||"")},null,8,p)):((0,o.openBlock)(),(0,o.createElementBlock)("div",u,[r.bannerAbbrv?((0,o.openBlock)(),(0,o.createElementBlock)("div",m,[e.$store.getters["i18n/exists"](r.bannerAbbrv)?((0,o.openBlock)(),(0,o.createElementBlock)("span",h,(0,o.toDisplayString)(e.t(r.bannerAbbrv)),1)):((0,o.openBlock)(),(0,o.createElementBlock)("span",{key:1,style:(0,o.normalizeStyle)({fontSize:L.abbrSizes[r.bannerAbbrv.length]})},(0,o.toDisplayString)(r.bannerAbbrv),5))])):((0,o.openBlock)(),(0,o.createElementBlock)("div",b,(0,o.toDisplayString)(r.id.slice(0,1).toUpperCase()),1))]))]),(0,o.createElementVNode)("div",f,[(0,o.createElementVNode)("div",{class:(0,o.normalizeClass)(["title",{"with-description":!!r.description}])},[(0,o.createElementVNode)("h5",null,[e.$store.getters["i18n/exists"](r.label)?(0,o.withDirectives)(((0,o.openBlock)(),(0,o.createElementBlock)("span",v,null,512)),[[K,e.t(r.label)]]):((0,o.openBlock)(),(0,o.createElementBlock)("span",y,(0,o.toDisplayString)(r.label),1))]),r.docLink?((0,o.openBlock)(),(0,o.createElementBlock)("a",{key:0,href:r.docLink,target:"_blank",rel:"noopener nofollow",class:"flex-right"},[(0,o.createTextVNode)((0,o.toDisplayString)(e.t("generic.moreInfo"))+" ",1),t[8]||(t[8]=(0,o.createElementVNode)("i",{class:"icon icon-external-link"},null,-1))],8,g)):(0,o.createCommentVNode)("",!0)],2),r.description?((0,o.openBlock)(),(0,o.createElementBlock)("hr",k)):(0,o.createCommentVNode)("",!0),r.description?((0,o.openBlock)(),(0,o.createElementBlock)("div",S,[e.$store.getters["i18n/exists"](r.description)?(0,o.withDirectives)(((0,o.openBlock)(),(0,o.createElementBlock)("span",x,null,512)),[[K,e.t(r.description,{},!0)]]):((0,o.openBlock)(),(0,o.createElementBlock)("span",B,(0,o.toDisplayString)(r.description),1))])):(0,o.createCommentVNode)("",!0)])])]),!0)],42,l)))),128))]),!0)])):(0,o.createCommentVNode)("",!0),L.showAsForm&&a.steps.length?((0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,{key:2},[T._selectedSubtype||!a.subtypes.length?((0,o.openBlock)(),(0,o.createElementBlock)("div",w,[a.resource?((0,o.openBlock)(),(0,o.createBlock)(P,{key:0,ref:"Wizard","header-mode":a.mode,steps:a.steps,"edit-first-step":a.stepsOptions.editFirstStep,errors:a.errors,"finish-mode":a.finishMode,class:"wizard",onError:t[2]||(t[2]=e=>a.errors=e)},{stepContainer:(0,o.withCtx)((({activeStep:t})=>[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(a.steps,((a,r)=>((0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,{key:r},[a.name===t.name||a.hidden?((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:a.name,class:(0,o.normalizeClass)(["step-container__step",{hide:a.name!==t.name&&a.hidden}])},[(0,o.renderSlot)(e.$slots,a.name,{step:a},void 0,!0)],2)):(0,o.createCommentVNode)("",!0)],64)))),128))])),controlsContainer:(0,o.withCtx)((({showPrevious:r,next:n,back:s,activeStep:i,canNext:l,activeStepIndex:c,visibleSteps:d})=>[(0,o.createVNode)(O,{class:"cru__footer",mode:a.mode,"is-form":L.showAsForm,"show-cancel":a.showCancel,onCancelConfirmed:T.confirmCancel},(0,o.createSlots)({default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",C,[T.showYaml?((0,o.openBlock)(),(0,o.createElementBlock)("button",{key:0,type:"button",class:"btn role-secondary",onClick:t[0]||(t[0]=(...e)=>T.showPreviewYaml&&T.showPreviewYaml(...e))},[(0,o.createVNode)(R,{k:"cruResource.previewYaml"})])):(0,o.createCommentVNode)("",!0),r?((0,o.openBlock)(),(0,o.createElementBlock)("button",{key:1,type:"button",class:"btn role-secondary",onClick:e=>s()},[(0,o.createVNode)(R,{k:"wizard.previous"})],8,N)):(0,o.createCommentVNode)("",!0),c===d.length-1?((0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,{key:2},[T.showSubtypeSelection||T.isView?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createBlock)(q,{key:0,ref:"save",disabled:!i.ready,mode:a.finishButtonMode||a.mode,onClick:t[1]||(t[1]=t=>e.$emit("finish",t))},null,8,["disabled","mode"]))],64)):((0,o.openBlock)(),(0,o.createElementBlock)("button",{key:3,disabled:!l,type:"button",class:"btn role-primary",onClick:e=>n()},[(0,o.createVNode)(R,{k:"wizard.next"})],8,E))])])),_:2},[(0,o.renderList)(e.$slots,((t,a)=>({name:a,fn:(0,o.withCtx)((t=>[T.shouldProvideSlot(a)?(0,o.renderSlot)(e.$slots,a,(0,o.normalizeProps)((0,o.mergeProps)({key:0},t)),void 0,!0):(0,o.createCommentVNode)("",!0)]))})))]),1032,["mode","is-form","show-cancel","onCancelConfirmed"])])),_:3},8,["header-mode","steps","edit-first-step","errors","finish-mode"])):(0,o.createCommentVNode)("",!0)])):(0,o.createCommentVNode)("",!0)],64)):L.showAsForm?((0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,{key:3},[T._selectedSubtype||!a.subtypes.length?((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:0,class:"resource-container cru__content",style:(0,o.normalizeStyle)([a.minHeight?{"min-height":a.minHeight}:{}])},[(0,o.renderSlot)(e.$slots,"default",{},void 0,!0)],4)):(0,o.createCommentVNode)("",!0),(0,o.renderSlot)(e.$slots,"form-footer",{},(()=>[(0,o.createVNode)(O,{class:"cru__footer",mode:a.mode,"is-form":L.showAsForm,"show-cancel":a.showCancel,"component-testid":a.componentTestid,onCancelConfirmed:T.confirmCancel},(0,o.createSlots)({_:2},[(0,o.renderList)(e.$slots,((t,a)=>({name:a,fn:(0,o.withCtx)((t=>[T.shouldProvideSlot(a)?(0,o.renderSlot)(e.$slots,a,(0,o.normalizeProps)((0,o.mergeProps)({key:0},t)),void 0,!0):(0,o.createCommentVNode)("",!0)]))}))),T.isView?void 0:{name:"default",fn:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",null,[T.showYaml?((0,o.openBlock)(),(0,o.createElementBlock)("button",{key:0,"data-testid":a.componentTestid+"-yaml",type:"button",class:"btn role-secondary",onClick:t[3]||(t[3]=(...e)=>T.showPreviewYaml&&T.showPreviewYaml(...e))},[(0,o.createVNode)(R,{k:"cruResource.previewYaml"})],8,A)):(0,o.createCommentVNode)("",!0),T.showSubtypeSelection?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createBlock)(q,{key:1,ref:"save",disabled:!T.canSave,mode:a.finishButtonMode||a.mode,"data-testid":a.componentTestid+"-save",onClick:t[4]||(t[4]=e=>T.clickSave(e))},null,8,["disabled","mode","data-testid"]))])])),key:"0"}]),1032,["mode","is-form","show-cancel","component-testid","onCancelConfirmed"])]),!0)],64)):T.showYaml&&!L.showAsForm?((0,o.openBlock)(),(0,o.createElementBlock)("section",$,[(0,o.createVNode)(H,{ref:"resourceyaml",value:a.resource,mode:a.mode,"initial-yaml-for-diff":L.initialYaml,yaml:L.resourceYaml,"offer-preview":T.isEdit,"done-route":a.doneRoute,"done-override":a.resource.doneOverride,"show-errors":!1,"apply-hooks":a.applyHooks,class:"resource-container cru__content",onError:t[5]||(t[5]=t=>e.$emit("error",t))},{yamlFooter:(0,o.withCtx)((({yamlSave:t,showPreview:r,yamlPreview:n,yamlUnpreview:s,canDiff:i})=>[(0,o.renderSlot)(e.$slots,"cru-yaml-footer",{},(()=>[(0,o.createVNode)(O,{class:"cru__footer","done-route":a.doneRoute,mode:a.mode,"is-form":L.showAsForm,onCancelConfirmed:T.confirmCancel},{default:(0,o.withCtx)((({checkCancel:l})=>[(0,o.createElementVNode)("div",V,[r?((0,o.openBlock)(),(0,o.createElementBlock)("button",{key:0,type:"button",class:"btn role-secondary","data-testid":a.componentTestid+"-yaml-yaml",onClick:s},[(0,o.createVNode)(R,{k:"resourceYaml.buttons.continue"})],8,_)):(0,o.createCommentVNode)("",!0),!r&&T.isEdit?((0,o.openBlock)(),(0,o.createElementBlock)("button",{key:1,"data-testid":a.componentTestid+"-yaml-yaml-preview",disabled:!i,type:"button",class:"btn role-secondary",onClick:n},[(0,o.createVNode)(R,{k:"resourceYaml.buttons.diff"})],8,I)):(0,o.createCommentVNode)("",!0)]),T._selectedSubtype||!a.subtypes.length?((0,o.openBlock)(),(0,o.createElementBlock)("div",D,[(0,o.createElementVNode)("button",{"data-testid":a.componentTestid+"-yaml-cancel",type:"button",class:"btn role-secondary",onClick:e=>l(!1)},[(0,o.createVNode)(R,{k:"cruResource.backToForm"})],8,F),T.showSubtypeSelection?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createBlock)(q,{key:0,"data-testid":a.componentTestid+"-yaml-save",disabled:!T.canSave,"action-label":T.isEdit?e.t("generic.save"):e.t("generic.create"),onClick:e=>t(e)},null,8,["data-testid","disabled","action-label","onClick"]))])):(0,o.createCommentVNode)("",!0)])),_:2},1032,["done-route","mode","is-form","onCancelConfirmed"])]),!0)])),_:3},8,["value","mode","initial-yaml-for-diff","yaml","offer-preview","done-route","done-override","apply-hooks"])])):(0,o.createCommentVNode)("",!0)])),_:3},40,["value"]))])}var L=a(3514),T=a.n(L),z=a(52946),R=a(76978),q=a(35664),O=a(70781),P=a(9980),H=a(67607),K=a(65359),Y=a(99726);const j={class:"cru-resource-footer"},U=["data-testid"];function W(e,t,a,r,n,s){const i=(0,o.resolveComponent)("t"),l=(0,o.resolveComponent)("AsyncButton"),c=(0,o.resolveComponent)("ResourceCancelModal");return(0,o.openBlock)(),(0,o.createElementBlock)("div",j,[(0,o.renderSlot)(e.$slots,"footer-prefix"),(0,o.renderSlot)(e.$slots,"cancel",{},(()=>[!s.isView&&a.showCancel?((0,o.openBlock)(),(0,o.createElementBlock)("button",{key:0,id:"cru-cancel","data-testid":a.componentTestid+"-cancel",type:"button",class:"btn role-secondary",onClick:t[0]||(t[0]=t=>a.confirmCancelRequired?s.checkCancel(!0):e.$emit("cancel-confirmed",!0))},[(0,o.createVNode)(i,{k:"generic.cancel"})],8,U)):(0,o.createCommentVNode)("",!0)])),(0,o.renderSlot)(e.$slots,"default",{checkCancel:s.checkCancel},(()=>[s.isView?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createBlock)(l,{key:0,"data-testid":a.componentTestid+"-create",mode:a.finishButtonMode||a.mode,onClick:t[1]||(t[1]=t=>e.$emit("finish",t))},null,8,["data-testid","mode"]))])),(0,o.createVNode)(c,{ref:"cancelModal","is-cancel-modal":n.isCancelModal,"is-form":a.isForm,onConfirmCancel:t[2]||(t[2]=e=>s.confirmCancel(e))},null,8,["is-cancel-modal","is-form"])])}const G={class:"header"},Q={class:"text-default-text"},J={key:1},Z={class:"body"},X={key:0},ee={key:1},te={class:"footer"},ae={key:0},oe={key:1};function re(e,t,a,r,n,s){const i=(0,o.resolveComponent)("t"),l=(0,o.resolveComponent)("app-modal");return n.showModal?((0,o.openBlock)(),(0,o.createBlock)(l,{key:0,customClass:"confirm-modal",name:"cancel-modal",width:440,height:"auto","trigger-focus-trap":!0,onClose:s.cancelCancel},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",G,[(0,o.createElementVNode)("h4",Q,[a.isCancelModal?((0,o.openBlock)(),(0,o.createBlock)(i,{key:0,k:"generic.cancel"})):((0,o.openBlock)(),(0,o.createElementBlock)("span",J,(0,o.toDisplayString)(e.t("cruResource.backToForm")),1))])]),(0,o.createElementVNode)("div",Z,[a.isCancelModal?((0,o.openBlock)(),(0,o.createElementBlock)("p",X,[(0,o.createVNode)(i,{k:"cruResource.cancelBody"})])):((0,o.openBlock)(),(0,o.createElementBlock)("p",ee,[(0,o.createVNode)(i,{k:"cruResource.backBody"})]))]),(0,o.createElementVNode)("div",te,[(0,o.createElementVNode)("button",{type:"button",class:"btn role-secondary",onClick:t[0]||(t[0]=(...e)=>s.cancelCancel&&s.cancelCancel(...e))},(0,o.toDisplayString)(a.isForm?e.t("cruResource.reviewForm"):e.t("cruResource.reviewYaml")),1),(0,o.createElementVNode)("button",{type:"button",class:"btn role-primary",onClick:t[1]||(t[1]=(...e)=>s.confirmCancel&&s.confirmCancel(...e))},[a.isCancelModal?((0,o.openBlock)(),(0,o.createElementBlock)("span",ae,(0,o.toDisplayString)(e.t("cruResource.confirmCancel")),1)):((0,o.openBlock)(),(0,o.createElementBlock)("span",oe,(0,o.toDisplayString)(e.t("cruResource.confirmBack")),1))])])])),_:1},8,["onClose"])):(0,o.createCommentVNode)("",!0)}const ne=["data-modal"];function se(e,t,a,r,n,s){return(0,o.openBlock)(),(0,o.createBlock)(o.Teleport,{to:"#modals"},[(0,o.createVNode)(o.Transition,{name:"modal-fade",appear:""},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",{class:"modal-overlay","data-modal":e.name,onClick:t[1]||(t[1]=(...t)=>e.handleClickOutside&&e.handleClickOutside(...t))},[(0,o.createElementVNode)("div",(0,o.mergeProps)(e.$attrs,{id:"modal-container-element",ref:"modalRef",class:[e.customClass,"modal-container"],style:e.modalStyles,role:"dialog","aria-modal":"true",onClick:t[0]||(t[0]=(0,o.withModifiers)((()=>{}),["stop"]))}),[(0,o.renderSlot)(e.$slots,"default")],16)],8,ne)])),_:3})])}var ie=a(82149);const le="body;";var ce=(0,o.defineComponent)({name:"AppModal",emits:["close"],inheritAttrs:!1,props:{clickToClose:{type:Boolean,default:!0},width:{type:[Number,String],default:600,validator(e){return"number"===typeof e?e>0:"string"===typeof e&&/^(0*(?:[1-9][0-9]*|0)\.?\d*)+(px|%)$/.test(e)}},customClass:{type:String,default:""},styles:{type:String,default:""},name:{type:String,default:""},triggerFocusTrap:{type:Boolean,default:!1},returnFocusSelector:{type:String,default:""},returnFocusFirstIterableNodeSelector:{type:String,default:le},focusTrapWatcherBasedVariable:{type:Boolean,default:void 0}},computed:{modalWidth(){if(this.isValidWidth(this.width)){const e="number"===typeof this.width?"px":"";return`${this.width}${e}`}return"600px"},stylesPropToObj(){return this.styles.split(";").map((e=>e.trim().split(":"))).reduce(((e,[t,a])=>({...e,[t]:a})),{})},modalStyles(){return{width:this.modalWidth,...this.stylesPropToObj}}},setup(e){if(e.triggerFocusTrap){let t=ie.mG;e.returnFocusFirstIterableNodeSelector&&e.returnFocusFirstIterableNodeSelector!==le&&e.returnFocusSelector?t={...ie.mG,setReturnFocus:()=>document.querySelector(e.returnFocusSelector)?e.returnFocusSelector:(0,ie.$4)(document.querySelector(e.returnFocusFirstIterableNodeSelector))}:e.returnFocusSelector&&(t={...ie.mG,setReturnFocus:e.returnFocusSelector});const a=(0,o.ref)(!0);(0,ie.ve)((()=>e.focusTrapWatcherBasedVariable??a),"#modal-container-element",t,!0)}},mounted(){document.addEventListener("keydown",this.handleEscapeKey)},beforeUnmount(){document.removeEventListener("keydown",this.handleEscapeKey)},methods:{handleClickOutside(e){this.clickToClose&&this.$refs.modalRef&&!this.$refs.modalRef.contains(e.target)&&this.$emit("close")},handleEscapeKey(e){this.clickToClose&&"Escape"===e.key&&this.$emit("close")},isValidWidth(e){return"number"===typeof e?e>0:"string"===typeof e&&/^(0*(?:[1-9][0-9]*|0)\.?\d*)+(px|%)$/.test(e)}}}),de=(a(76543),a(47433));const pe=(0,de.A)(ce,[["render",se]]);var ue=pe,me={emits:["cancel-cancel","confirm-cancel"],components:{AppModal:ue},props:{isCancelModal:{type:Boolean,default:!1},isForm:{type:Boolean,default:!1}},data(){return{showModal:!1}},watch:{},methods:{show(){this.showModal=!0},cancelCancel(){this.showModal=!1,this.$emit("cancel-cancel")},confirmCancel(){this.showModal=!1,this.$emit("confirm-cancel",this.isCancelModal)}}};a(95301);const he=(0,de.A)(me,[["render",re],["__scopeId","data-v-715d956d"]]);var be=he,fe=a(14220),ve={emits:["cancel-confirmed","finish"],components:{AsyncButton:H.A,ResourceCancelModal:be},props:{mode:{type:String,default:"create"},isForm:{type:Boolean,default:!0},finishButtonMode:{type:String,default:null},confirmCancelRequired:{type:Boolean,default:!1},confirmBackRequired:{type:Boolean,default:!0},showCancel:{type:Boolean,default:!0},componentTestid:{type:String,default:"form-footer"}},data(){return{isCancelModal:!1}},computed:{...(0,K.L8)({t:"i18n/t"}),isView(){return this.mode===fe.nW}},methods:{checkCancel(e){this.isCancelModal=!!e,this.$refs.cancelModal.show()},confirmCancel(e){this.$emit("cancel-confirmed",e)}}};a(21255);const ye=(0,de.A)(ve,[["render",W]]);var ge=ye,ke=a(8135);const Se={ref:"wizard",class:"outer-container"},xe={class:"header"},Be={class:"title"},we={key:0,class:"top choice-banner"},Ce={class:"title"},Ne={key:0,class:"round-image"},Ee={class:"subtitle"},Ae={key:0},$e={key:1,class:"subtext"},Ve={key:1,class:"subtitle"},_e={key:0,class:"subtext"},Ie={class:"step-sequence"},De=["id"],Fe=["aria-controls","aria-selected","onClick"],Me=["id"],Le={id:"wizard-footer-controls",class:"controls-row"},Te={class:"controls-steps"},ze=["disabled"],Re=["disabled"];function qe(e,t,a,r,n,s){const i=(0,o.resolveComponent)("Loading"),l=(0,o.resolveComponent)("LazyImage"),c=(0,o.resolveComponent)("Banner"),d=(0,o.resolveComponent)("t"),p=(0,o.resolveComponent)("AsyncButton");return(0,o.openBlock)(),(0,o.createElementBlock)("div",Se,[s.stepsLoaded?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createBlock)(i,{key:0,mode:"relative"})),(0,o.createElementVNode)("div",{class:(0,o.normalizeClass)(["outer-container",{hide:!s.stepsLoaded}])},[(0,o.createElementVNode)("div",null,[(0,o.createElementVNode)("div",xe,[(0,o.createElementVNode)("div",Be,[a.showBanner?((0,o.openBlock)(),(0,o.createElementBlock)("div",we,[a.bannerImage||a.bannerTitle?(0,o.renderSlot)(e.$slots,"bannerTitle",{key:0},(()=>[(0,o.withDirectives)((0,o.createElementVNode)("div",Ce,[(0,o.renderSlot)(e.$slots,"bannerTitleImage",{},(()=>[a.bannerImage?((0,o.openBlock)(),(0,o.createElementBlock)("div",Ne,[(0,o.createVNode)(l,{src:a.bannerImage,class:"logo"},null,8,["src"])])):(0,o.createCommentVNode)("",!0)]),!0),(0,o.createElementVNode)("div",Ee,[a.bannerTitle?((0,o.openBlock)(),(0,o.createElementBlock)("h2",Ae,(0,o.toDisplayString)(a.bannerTitle),1)):(0,o.createCommentVNode)("",!0),a.bannerTitleSubtext?((0,o.openBlock)(),(0,o.createElementBlock)("span",$e,(0,o.toDisplayString)(a.bannerTitleSubtext),1)):(0,o.createCommentVNode)("",!0)])],512),[[o.vShow,a.initialTitle||s.activeStepIndex>0]])]),!0):(0,o.createCommentVNode)("",!0),n.activeStep&&s.showSteps?((0,o.openBlock)(),(0,o.createElementBlock)("div",Ve,[(0,o.createElementVNode)("h2",null,(0,o.toDisplayString)(a.headerMode?e.t(`wizard.${a.headerMode}`):e.t(`asyncButton.${a.finishMode}.action`))+": "+(0,o.toDisplayString)(e.t("wizard.step",{number:s.activeStepIndex+1})),1),(0,o.renderSlot)(e.$slots,"bannerSubtext",{},(()=>[null!==n.activeStep.subtext?((0,o.openBlock)(),(0,o.createElementBlock)("span",_e,(0,o.toDisplayString)(n.activeStep.subtext||n.activeStep.label),1)):(0,o.createCommentVNode)("",!0)]),!0)])):(0,o.createCommentVNode)("",!0)])):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("div",Ie,[s.showSteps?((0,o.openBlock)(),(0,o.createElementBlock)("ul",{key:0,class:"steps",tabindex:"0",onKeyup:[t[0]||(t[0]=(0,o.withKeys)((0,o.withModifiers)((t=>e.selectNext(1)),["stop"]),["right"])),t[1]||(t[1]=(0,o.withKeys)((0,o.withModifiers)((t=>e.selectNext(-1)),["stop"]),["left"]))]},[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(s.visibleSteps,((e,t)=>((0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,{key:t},[(0,o.createElementVNode)("li",{id:e.name,class:(0,o.normalizeClass)({step:!0,active:e.name===n.activeStep.name,disabled:!s.isAvailable(e)}),role:"presentation"},[(0,o.createElementVNode)("span",{"aria-controls":"step-container-"+e.name,"aria-selected":e.name===n.activeStep.name,role:"tab",class:"controls",onClick:(0,o.withModifiers)((e=>s.goToStep(t+1,!0)),["prevent"])},[(0,o.createElementVNode)("span",{class:(0,o.normalizeClass)(["icon icon-lg",{"icon-dot":e.name===n.activeStep.name,"icon-dot-open":e.name!==n.activeStep.name}])},null,2),(0,o.createElementVNode)("span",null,(0,o.toDisplayString)(e.label),1)],8,Fe)],10,De),t!==s.visibleSteps.length-1?((0,o.openBlock)(),(0,o.createElementBlock)("li",{key:e.name,class:"divider"})):(0,o.createCommentVNode)("",!0)],64)))),128))],32)):(0,o.createCommentVNode)("",!0)])])]),(0,o.renderSlot)(e.$slots,"stepContainer",{class:"step-container",activeStep:n.activeStep},(()=>[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(a.steps,((t,a)=>((0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,{key:a},[t.name===n.activeStep.name||t.hidden?((0,o.openBlock)(),(0,o.createElementBlock)("div",{id:"step-container-"+t.name,key:t.name,role:"tabpanel",class:(0,o.normalizeClass)(["step-container__step",{hide:t.name!==n.activeStep.name&&t.hidden}])},[(0,o.renderSlot)(e.$slots,t.name,{step:t},void 0,!0)],10,Me)):(0,o.createCommentVNode)("",!0)],64)))),128))]),!0)]),(0,o.renderSlot)(e.$slots,"controlsContainer",{showPrevious:s.showPrevious,next:s.next,back:s.back,canNext:s.canNext,activeStepIndex:s.activeStepIndex,visibleSteps:s.visibleSteps,errorStrings:s.errorStrings,finish:s.finish,cancel:s.cancel,activeStep:n.activeStep},(()=>[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(s.errorStrings,((e,t)=>((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:t},[(0,o.createVNode)(c,{color:"error",label:e,closable:!0,class:"footer-error",onClose:e=>a.errors.splice(t,1)},null,8,["label","onClose"])])))),128)),(0,o.createElementVNode)("div",Le,[(0,o.renderSlot)(e.$slots,"cancel",{cancel:s.cancel},(()=>[(0,o.createElementVNode)("button",{type:"button",class:"btn role-secondary",onClick:t[2]||(t[2]=(...e)=>s.cancel&&s.cancel(...e))},[(0,o.createVNode)(d,{k:"generic.cancel"})])]),!0),(0,o.createElementVNode)("div",Te,[s.showPrevious?(0,o.renderSlot)(e.$slots,"back",{key:0,back:s.back},(()=>[(0,o.createElementVNode)("button",{disabled:!s.canPrevious||!a.editFirstStep&&1===s.activeStepIndex,type:"button",class:"btn role-secondary",onClick:t[3]||(t[3]=e=>s.back())},[(0,o.createVNode)(d,{k:"wizard.previous"})],8,ze)]),!0):(0,o.createCommentVNode)("",!0),s.activeStepIndex===s.visibleSteps.length-1?(0,o.renderSlot)(e.$slots,"finish",{key:1,finish:s.finish},(()=>[s.isView?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createBlock)(p,{key:0,disabled:!n.activeStep.ready,mode:a.finishMode,onClick:s.finish},null,8,["disabled","mode","onClick"]))]),!0):(0,o.renderSlot)(e.$slots,"next",{key:2,next:s.next},(()=>[(0,o.createElementVNode)("button",{disabled:!s.canNext,type:"button",class:(0,o.normalizeClass)(s.nextButtonStyle),onClick:t[4]||(t[4]=e=>s.next())},[(0,o.createVNode)(d,{k:s.nextButtonLabel},null,8,["k"])],10,Re)]),!0)])])]),!0)],2)],512)}var Oe=a(87619);const Pe=["src"];function He(e,t,a,r,n,s){return(0,o.openBlock)(),(0,o.createElementBlock)("img",(0,o.mergeProps)({ref:"img",src:a.initialSrc},e.$attrs),null,16,Pe)}const Ke="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7";var Ye={props:{initialSrc:{type:String,default:Ke},errorSrc:{type:String,default:a(39802)},src:{type:String,default:null}},watch:{src(e,t){if(e!==t){if(!e)return this.onError();this.intersected?this.loadImage():this.observer||this.startObserver()}}},created(){this.observer=null,this.intersected=!1,this.boundError=null},mounted(){this.src?this.startObserver():this.onError()},beforeUnmount(){const e=this.$refs.img;e&&this.boundError&&e.removeEventListener("error",this.boundError),this.observer&&(this.observer.disconnect(),this.observer=null)},methods:{startObserver(){this.src&&!this.observer&&this.$refs.img&&(this.observer=new IntersectionObserver((e=>{const t=e[0];t.isIntersecting&&(this.intersected=!0,this.loadImage(),this.observer&&(this.observer.disconnect(),this.observer=null))})),this.observer.observe(this.$refs.img))},loadImage(){const e=this.$refs.img;this.src&&(e&&this.boundError&&e.removeEventListener("error",this.boundError),e.setAttribute("src",this.src),this.boundError=this.onError.bind(this),e.addEventListener("error",this.boundError))},onError(){const e=this.$refs.img;e&&e.setAttribute("src",this.errorSrc)}}};const je=(0,de.A)(Ye,[["render",He]]);var Ue=je,We={name:"Wizard",emits:["next","cancel","finish"],components:{AsyncButton:H.A,Banner:P.l,Loading:Oe.A,LazyImage:Ue},props:{steps:{type:Array,required:!0},mode:{type:String,default:fe.YQ},initStepIndex:{type:Number,default:0},editFirstStep:{type:Boolean,default:!1},showBanner:{type:Boolean,default:!0},initialTitle:{type:Boolean,default:!0},bannerTitle:{type:String,default:null},bannerImage:{type:String,default:null},bannerTitleSubtext:{type:String,default:null},headerMode:{type:String,default:null},finishMode:{type:String,default:"finish"},errors:{type:Array,default:null}},data(){return{activeStep:null}},computed:{isView(){return this.mode===fe.nW},errorStrings(){return(this.errors||[]).map((e=>(0,Y.As)(e)))},activeStepIndex(){return this.visibleSteps.findIndex((e=>e.name===this.activeStep.name))},showPrevious(){if(0===this.activeStepIndex)return!1;for(let e=0;e<this.activeStepIndex;e++){const t=this.visibleSteps[e];if(!t)break;if(!t.hidden)return!0}return!1},canPrevious(){return!this.activeStep?.previousButton?.disable&&(this.activeStepIndex>1||this.editFirstStep)},canNext(){const e=this.visibleSteps[this.activeStepIndex];return this.activeStepIndex<this.visibleSteps.length-1&&e.ready},readySteps(){return this.visibleSteps.filter((e=>e.ready))},showSteps(){return!1!==this.activeStep.showSteps&&this.visibleSteps.length>1},stepsLoaded(){return!this.steps.some((e=>!0===e.loading))},visibleSteps(){return this.steps.filter((e=>!e.hidden))},nextButtonStyle(){return this.activeStep.nextButton?.style||"btn role-primary"},nextButtonLabel(){return this.activeStep.nextButton?.labelKey||"wizard.next"}},watch:{stepsLoaded(e,t){!t&&e&&(this.activeStep=this.visibleSteps[this.initStepIndex],this.goToStep(this.activeStepIndex+1))},errors(){this.$nextTick((()=>{this.$refs.wizard.scrollTop=this.$refs.wizard.scrollHeight}))}},created(){this.activeStep=this.visibleSteps[this.initStepIndex],this.goToStep(this.activeStepIndex+1)},methods:{goToStep(e,t){if(e<1)return;if(!this.editFirstStep&&1===e&&t)return;const a=this.visibleSteps[e-1];a&&(this.isAvailable(a)||1===e)&&(this.activeStep=a,this.$emit("next",{step:a}))},cancel(){this.$emit("cancel")},finish(e){this.$emit("finish",e)},next(){this.goToStep(this.activeStepIndex+2)},back(){this.goToStep(this.activeStepIndex)},isAvailable(e){if(!e)return!1;const t=this.visibleSteps.findIndex((t=>t.name===e.name));if(0===t&&!this.editFirstStep)return!1;for(let a=0;a<t;a++)if(!1===this.visibleSteps[a].ready)return!1;return!0}}};a(45);const Ge=(0,de.A)(We,[["render",qe],["__scopeId","data-v-deb715a0"]]);var Qe=Ge,Je=a(4364);const Ze="show-preview-yaml";var Xe={name:"CruResource",emits:["select-type","error","cancel","finish"],components:{AsyncButton:H.A,Banner:P.l,CruResourceFooter:ge,ResourceYaml:O.A,Wizard:Qe},props:{doneRoute:{type:[String,Object],default:null},cancelEvent:{type:Boolean,default:!1},showCancel:{type:Boolean,default:!0},mode:{type:String,required:!0},resource:{type:[String,Object],required:!0},subtypes:{type:Array,default:()=>[]},selectedSubtype:{type:String,default:null},validationPassed:{type:Boolean,default:!0},errors:{type:Array,default:()=>[]},errorsMap:{type:Object,default:null},canYaml:{type:Boolean,default:!0},generateYaml:{type:Function,default:null},finishButtonMode:{type:String,default:null},preventEnterSubmit:{type:Boolean,default:!1},applyHooks:{type:Function,default:null},steps:{type:Array,default:()=>[]},stepsOptions:{type:Object,default:()=>({editFirstStep:!0})},finishMode:{type:String,default:"finish"},minHeight:{type:String,default:""},namespaceKey:{type:String,default:"metadata.namespace"},componentTestid:{type:String,default:"form"},description:{type:String,default:""},yamlModifiers:{type:Object,default:void 0}},data(e){const t=this.$store.getters["currentStore"](this.resource),a=this.$store.getters[`${t}/schemaFor`](this.resource.type);return{isCancelModal:!1,showAsForm:this.$route.query[fe.AS]!==fe.zD,resourceYaml:null,initialYaml:null,initialResource:(0,R.o8)(this.resource),abbrSizes:{3:"24px",4:"18px",5:"16px",6:"14px"},schema:a}},computed:{canSave(){const{validationPassed:e,showAsForm:t,steps:a}=this;return t&&a?.length?e&&this.steps.every((e=>e.ready)):!this.showAsForm||this.validationPassed},canEditYaml(){return!this.schema?.resourceMethods?.includes("blocked-PUT")},showYaml(){return this.canYaml&&(this._selectedSubtype||!this.subtypes.length)&&this.canEditYaml&&this.mode!==fe.nW},isView(){return this.mode===fe.nW},isEdit(){return this.mode===fe.G5},_selectedSubtype(){return this.selectedSubtype?this.selectedSubtype:this.$route.query[fe.UA]},showSubtypeSelection(){return!T()(this.subtypes)&&!this._selectedSubtype},...(0,K.L8)({t:"i18n/t"}),...(0,K.aH)("cru-resource",["createNamespace"]),...(0,K.i0)("cru-resource",["setCreateNamespace"]),hasErrors(){return this.errors?.length&&Array.isArray(this.errors)},mappedErrors(){return this.errors?this.errorsMap||this.errors.reduce(((e,t)=>({...e,[t]:{message:this.formatError(t),icon:null}})),{}):{}}},created(){this._selectedSubtype&&this.$emit("select-type",this._selectedSubtype)},mounted(){this.$store.dispatch("cru-resource/setCreateNamespace",!1)},beforeUnmount(){this.$store.dispatch("cru-resource/setCreateNamespace",!1)},methods:{stringify:Y.As,confirmCancel(e=!0){e?this.emitOrRoute():this.showAsForm||(this.resourceYaml=null,this.showAsForm=!0,this.$router.applyQuery({[fe.AS]:fe.xz}))},closeError(e){const t=this.errors.filter(((t,a)=>a!==e));this.$emit("error",t,this.errors[e])},emitOrRoute(){if(this.cancelEvent)this.$emit("cancel");else{const{resource:e=this.resource.type}=this.$route.params,t=this.resource.doneOverride,a={name:this.doneRoute,params:{resource:e}};this.$router.replace(t||a)}},async createResourceYaml(e,t=this.resource){if(await(this.schema?.fetchResourceFields()),"function"===typeof this.generateYaml)return this.generateYaml.apply(this,t);{const a=this.$store.getters["currentStore"](t),o=this.$store.getters[`${a}/all`](q.yx),r=(0,R.o8)(t),n=(0,z.Yd)(o,t.type,r,e);return n}},async showPreviewYaml(){if(await(this.schema?.fetchResourceFields()),this.applyHooks)try{await this.applyHooks(ke.Fm,Ze)}catch(t){return void Je.warn("Unable to show yaml: ",t)}const e=await this.createResourceYaml(this.yamlModifiers);this.resourceYaml=e,this.showAsForm=!1,this.$router.applyQuery({[fe.AS]:fe.zD})},selectType(e,t){"A"!==t?.srcElement?.tagName&&(this.$router.applyQuery({[fe.UA]:e}),this.$emit("select-type",e))},async clickSave(e){if(this.createNamespace)try{await this.createNamespaceIfNeeded()}catch(t){return this.$emit("error",(0,Y.rz)(t.message)),void e(!1)}this.$emit("finish",e)},save(){this.$refs.save.clicked()},async createNamespaceIfNeeded(){const e=this.$store.getters["currentStore"](this.resource),t=(0,R.Jt)(this.resource,this.namespaceKey);let a=!1;try{a=!!await this.$store.dispatch(`${e}/find`,{type:q.CU,id:t})}catch{}if(!a)try{const a=await this.$store.dispatch(`${e}/createNamespace`,{name:t},{root:!0});a.applyDefaults(),await a.save()}catch(o){throw this.$emit("error",(0,Y.rz)(o)),new Error(`Could not create the new namespace. ${o.message}`)}},onPressEnter(e){this.preventEnterSubmit&&e.preventDefault()},shouldProvideSlot(e){return"default"!==e&&"function"===typeof this.$slots[e]},formatError(e){if("string"===typeof e)return e;if("ActionNotAvailable"===e?.code)return this.t("errors.actionNotAvailable");const t=e?.message?e.message:"";let a="";if(e?.message&&e.detail)a=this.t("errors.messageAndDetail",{message:e.message,detail:e.detail});else if(e?.message||e.detail){const t=e.message?e.message:e.detail;a=this.t("errors.messageOrDetail",{val:t})}if(422===e?.status){const t=e?.fieldName,o=e?.code;let r="";switch(e?.code){case"MissingRequired":r=this.t("errors.missingRequired");break;case"NotUnique":r=this.t("errors.notUnique");break;case"NotNullable":r=this.t("errors.notNullable");break;case"InvalidOption":r=this.t("errors.invalidOption");break;case"InvalidCharacters":r=this.t("errors.invalidCharacters");break;case"MinLengthExceeded":r=this.t("errors.minLengthExceeded");break;case"MaxLengthExceeded":r=this.t("errors.maxLengthExceeded");break;case"MinLimitExceeded":r=this.t("errors.minLimitExceeded");break;case"MaxLimitExceded":r=this.t("errors.maxLimitExceded");break}return t?r?a?this.t("errors.failedInApi.withName.withCodeExplanation.withMessageDetail",{name:t,codeExplanation:r,messageDetail:a}):this.t("errors.failedInApi.withName.withCodeExplanation.withoutMessageDetail",{name:t,codeExplanation:r}):a?this.t("errors.failedInApi.withName.withMessageDetail",{name:t,messageDetail:a}):this.t("errors.failedInApi.withName.withoutAnythingElse",{name:t}):a?r?this.t("errors.failedInApi.withoutName.withMessageDetail.withCodeExplanation",{codeExplanation:r,messageDetail:a}):this.t("errors.failedInApi.withoutName.withMessageDetail.withoutCodeExplanation",{messageDetail:a}):o?r?this.t("errors.failedInApi.withoutName.withCode.withCodeExplanation",{code:o,codeExplanation:r}):this.t("errors.failedInApi.withoutName.withCode.withoutCodeExplanation",{code:o}):this.t("errors.failedInApi.withoutAnything")}return 404===e?.status?e?.opt?.url?this.t("errors.notFound.withUrl",{msg:t,url:e.opt.url}):this.t("errors.notFound.withoutUrl",{msg:t}):a.length>0?a:e}},watch:{async showAsForm(e){e||this.initialYaml||(this.initialYaml=await this.createResourceYaml(void 0,this.initialResource))}}};a(51384);const et=(0,de.A)(Xe,[["render",M],["__scopeId","data-v-0bb22665"]]);var tt=et},53530:function(e,t,a){var o=a(9530);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var r=a(74825).A;r("01af5967",o,!0,{sourceMap:!1,shadowMode:!1})},61349:function(e,t,a){"use strict";a.r(t);var o=a(36758),r=a.n(o),n=a(40935),s=a.n(n),i=s()(r());i.push([e.id,".confirm-modal .btn[data-v-715d956d]{margin:0 10px}.confirm-modal .body[data-v-715d956d]{min-height:75px;padding:10px 0 0 15px}.confirm-modal .body p[data-v-715d956d]{margin-top:10px}.confirm-modal .header[data-v-715d956d]{background-color:var(--error);padding:15px 0 0 15px;height:50px}.confirm-modal .header h4[data-v-715d956d]{color:#fff}.confirm-modal .footer[data-v-715d956d]{border-top:1px solid var(--border);text-align:center;padding:10px 0 0 15px;height:60px}",""]),t["default"]=i},69552:function(e,t,a){"use strict";a.d(t,{o:function(){return _}});var o=a(9274);const r=["for"],n={key:2,class:"required","aria-hidden":!0},s=["id","role","maxlength","disabled","aria-disabled","type","value","placeholder","data-lpignore","aria-describedby","aria-required"],i={key:2,class:"sub-label","data-testid":"sub-label"},l=["id","aria-label"],c=["id"];function d(e,t,a,d,p,u){const m=(0,o.resolveComponent)("t"),h=(0,o.resolveComponent)("TextAreaAutoGrow"),b=(0,o.resolveComponent)("LabeledTooltip"),f=(0,o.resolveDirective)("stripped-aria-label"),v=(0,o.resolveDirective)("clean-html");return(0,o.openBlock)(),(0,o.createElementBlock)("div",{class:(0,o.normalizeClass)({"labeled-input":!0,focused:e.focused,[e.mode]:!0,disabled:e.isDisabled,[e.status]:e.status,suffix:e.hasSuffix,"v-popper--has-tooltip":e.hasTooltip,"compact-input":e.isCompact,hideArrows:e.hideArrows,[e.className]:!0})},[(0,o.renderSlot)(e.$slots,"label",{},(()=>[e.hasLabel?((0,o.openBlock)(),(0,o.createElementBlock)("label",{key:0,for:e.inputId},[e.labelKey?((0,o.openBlock)(),(0,o.createBlock)(m,{key:0,k:e.labelKey},null,8,["k"])):e.label?((0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,{key:1},[(0,o.createTextVNode)((0,o.toDisplayString)(e.label),1)],64)):(0,o.createCommentVNode)("",!0),e.requiredField?((0,o.openBlock)(),(0,o.createElementBlock)("span",n,"*")):(0,o.createCommentVNode)("",!0)],8,r)):(0,o.createCommentVNode)("",!0)]),!0),(0,o.renderSlot)(e.$slots,"prefix",{},void 0,!0),(0,o.renderSlot)(e.$slots,"field",{},(()=>["multiline"===e.type||"multiline-password"===e.type?(0,o.withDirectives)(((0,o.openBlock)(),(0,o.createBlock)(h,(0,o.mergeProps)({key:0,id:e.inputId,ref:"value"},e.$attrs,{maxlength:e._maxlength,disabled:e.isDisabled,"aria-disabled":e.isDisabled,value:e.value||"",placeholder:e._placeholder,autocapitalize:"off",class:{conceal:"multiline-password"===e.type},"aria-describedby":e.ariaDescribedBy,"aria-required":e.requiredField,"onUpdate:value":e.onInput,onFocus:e.onFocus,onBlur:e.onBlur}),null,16,["id","maxlength","disabled","aria-disabled","value","placeholder","class","aria-describedby","aria-required","onUpdate:value","onFocus","onBlur"])),[[f,!e.hasLabel&&e.ariaLabel?e.ariaLabel:void 0]]):(0,o.withDirectives)(((0,o.openBlock)(),(0,o.createElementBlock)("input",(0,o.mergeProps)({key:1,id:e.inputId,ref:"value",role:"number"===e.type?void 0:"textbox",class:{"no-label":!e.hasLabel}},e.$attrs,{maxlength:e._maxlength,disabled:e.isDisabled,"aria-disabled":e.isDisabled,type:"cron"===e.type?"text":e.type,value:e.value,placeholder:e._placeholder,autocomplete:"off",autocapitalize:"off","data-lpignore":e.ignorePasswordManagers,"aria-describedby":e.ariaDescribedBy,"aria-required":e.requiredField,onInput:t[0]||(t[0]=(...t)=>e.onInput&&e.onInput(...t)),onFocus:t[1]||(t[1]=(...t)=>e.onFocus&&e.onFocus(...t)),onBlur:t[2]||(t[2]=(...t)=>e.onBlur&&e.onBlur(...t)),onChange:t[3]||(t[3]=(...t)=>e.onChange&&e.onChange(...t))}),null,16,s)),[[f,!e.hasLabel&&e.ariaLabel?e.ariaLabel:void 0]])]),!0),(0,o.renderSlot)(e.$slots,"suffix",{},void 0,!0),e.hasTooltip?((0,o.openBlock)(),(0,o.createBlock)(b,{key:0,hover:e.hoverTooltip,value:e.tooltipValue,status:e.status},null,8,["hover","value","status"])):(0,o.createCommentVNode)("",!0),e.validationMessage?((0,o.openBlock)(),(0,o.createBlock)(b,{key:1,hover:e.hoverTooltip,value:e.validationMessage},null,8,["hover","value"])):(0,o.createCommentVNode)("",!0),e.cronHint||e.subLabel?((0,o.openBlock)(),(0,o.createElementBlock)("div",i,[e.cronHint?((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:0,id:e.describedById,role:"alert","aria-label":e.cronHint},(0,o.toDisplayString)(e.cronHint),9,l)):e.subLabel?(0,o.withDirectives)(((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:1,id:e.describedById},null,8,c)),[[v,e.subLabel]]):(0,o.createCommentVNode)("",!0)])):(0,o.createCommentVNode)("",!0)],2)}const p=["value","data-testid","disabled","placeholder","spellcheck"];function u(e,t,a,r,n,s){return(0,o.openBlock)(),(0,o.createElementBlock)("textarea",(0,o.mergeProps)({ref:"ta",value:e.value,"data-testid":e.$attrs["data-testid"]?e.$attrs["data-testid"]:"text-area-auto-grow",disabled:e.isDisabled,style:e.style,placeholder:e.placeholder,class:[e.className,"no-resize no-ease"]},e.$attrs,{spellcheck:e.spellcheck,onPaste:t[0]||(t[0]=t=>e.$emit("paste",t)),onInput:t[1]||(t[1]=t=>e.onInput(t)),onFocus:t[2]||(t[2]=t=>e.$emit("focus",t)),onBlur:t[3]||(t[3]=t=>e.$emit("blur",t))}),null,16,p)}var m=a(45250),h=a(14220);const b={queueResize(){}};var f=(0,o.defineComponent)({inheritAttrs:!1,props:{value:{type:String,required:!0},class:{type:[String,Array,Object],default:""},mode:{type:String,default:h.G5},minHeight:{type:Number,default:25},maxHeight:{type:Number,default:200},placeholder:{type:String,default:""},spellcheck:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1}},emits:["update:value","paste","focus","blur"],setup(){const e=(0,o.inject)("queueResize",b.queueResize);return{queueResize:e}},data(){return{curHeight:this.minHeight,overflow:"hidden"}},computed:{isDisabled(){return this.disabled||this.mode===h.nW},style(){return`height: ${this.curHeight}px; overflow: ${this.overflow};`},className(){return this.class}},watch:{$attrs:{deep:!0,handler(){this.queueResize()}}},created(){this.queueResize=(0,m.debounce)(this.autoSize,100)},mounted(){this.$refs.ta.style.height=`${this.curHeight}px`,this.$nextTick((()=>{this.autoSize()}))},methods:{onInput(e){const t=e?.target?.value;this.$emit("update:value",t),this.queueResize()},focus(){(this.$refs?.ta).focus()},autoSize(){const e=this.$refs.ta;if(!e)return;e.style.height="1px";const t=parseInt(getComputedStyle(e).getPropertyValue("borderTopWidth"),10)||0+parseInt(getComputedStyle(e).getPropertyValue("borderBottomWidth"),10)||0,a=Math.max(this.minHeight,Math.min(e.scrollHeight+t,this.maxHeight));e.style.overflowY=e.scrollHeight>a?"auto":"hidden",e.style.height=`${a}px`,this.curHeight=a}}}),v=a(47433);const y=(0,v.A)(f,[["render",u]]);var g=y,k=a(78291),S=a(92043),x=a(37021),B=a.n(x),w=a(3369);const C={tooltipKey:{type:String,default:null},placeholder:{type:[String,Number],default:""},placeholderKey:{type:String,default:null},label:{type:String,default:null},labelKey:{type:String,default:null},value:{type:[String,Number,Object],default:""},mode:{type:String,default:h.G5},rules:{default:()=>[],type:Array,validator:e=>e.every((e=>["function"].includes(typeof e)))},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},requireDirty:{default:!0,type:Boolean}},N=((0,o.defineEmits)(["update:validation"]),(e,t)=>{const a=(0,o.ref)(e.mode===h.nW||!!`${e.value}`),r=(0,o.ref)(!1),n=(0,o.ref)(null),s=(0,o.computed)((()=>e.required||e.rules?.some((e=>"required"===e?.name)))),i=(0,o.computed)((()=>e.mode===h.nW)),l=(0,o.computed)((()=>e.disabled||i.value)),c=(0,o.computed)((()=>{const a=e.rules.find((e=>"required"===e?.name)),o=[],s=e.value;if(a&&n.value&&!r.value){const e=a(s);if(e)return t("update:validation",!1),e}for(const t of e.rules){const e=t(s);e&&"required"!==t.name&&o.push(e)}return o.length>0&&(n.value||r.value||!e.requireDirty)?(t("update:validation",!1),o.join(", ")):void t("update:validation",!0)})),d=()=>{a.value=!0,r.value=!0},p=()=>{r.value=!1,e.value||(a.value=!1),n.value=Date.now()};return{raised:a,focused:r,blurred:n,onFocusLabeled:d,onBlurLabeled:p,isDisabled:l,validationMessage:c,requiredField:s}}),E=e=>{const t=(0,o.computed)((()=>null!==e.compact&&void 0!==e.compact?!!e.compact:!(e.label||e.labelKey)));return{isCompact:t}},A={onInput(){}};var $=(0,o.defineComponent)({components:{LabeledTooltip:k.A,TextAreaAutoGrow:g},inheritAttrs:!1,props:{...C,type:{type:String,default:"text"},status:{type:String,default:null},subLabel:{type:String,default:null},tooltip:{default:null,type:[String,Object]},hoverTooltip:{type:Boolean,default:!0},ignorePasswordManagers:{default:!1,type:Boolean},maxlength:{type:Number,default:null},hideArrows:{type:Boolean,default:!1},delay:{type:Number,default:0},class:{type:String,default:""},ariaLabel:{type:String,default:""}},emits:["change","update:value","blur","update:validation"],setup(e,{emit:t}){const{focused:a,onFocusLabeled:r,onBlurLabeled:n,isDisabled:s,validationMessage:i,requiredField:l}=N(e,t),{isCompact:c}=E(e),d=(0,o.inject)("onInput",A.onInput);return{focused:a,onFocusLabeled:r,onBlurLabeled:n,onInput:d,isDisabled:s,validationMessage:i,requiredField:l,isCompact:c}},data(){return{updated:!1,validationErrors:"",inputId:`input-${(0,S.aR)(12)}`,describedById:`described-by-${(0,S.aR)(12)}`}},computed:{hasLabel(){return!this.isCompact&&(!!this.label||!!this.labelKey||!!this.$slots.label)},ariaDescribedBy(){const e=this.$attrs["aria-describedby"],t=this.cronHint||this.subLabel?this.describedById:void 0;return e&&t?`${e} ${t}`:e||t?`${e||t}`:void 0},hasTooltip(){return!!this.tooltip||!!this.tooltipKey},tooltipValue(){if(this.hasTooltip)return this.tooltipKey?this.t(this.tooltipKey):this.tooltip},hasSuffix(){return!!this.$slots.suffix},cronHint(){if("cron"!==this.type||!this.value)return;const e=["@yearly","@annually","@monthly","@weekly","@daily","@midnight","@hourly"],t=e.includes(this.value);if(!t&&!(0,w.isValidCron)(this.value,{alias:!0,allowBlankDay:!0,allowSevenAsSunday:!0}))return this.t("generic.invalidCron");try{const e=B().toString(this.value||"",{verbose:!0});return e}catch(a){return this.t("generic.invalidCron")}},_placeholder(){return this.placeholder?this.placeholder.toString():this.placeholderKey?this.t(this.placeholderKey):""},_maxlength(){if("text"===this.type&&this.maxlength)return this.maxlength},className(){return this.class}},mounted(){const e=this.$attrs?.id;e&&(this.inputId=e)},created(){this.onInput=this.delay?(0,m.debounce)(this.delayInput,this.delay):this.delayInput},methods:{focus(){const e=this.$refs.value;e&&e.focus()},select(){const e=this.$refs.value;e&&e.select()},onChange(e){this.$emit("change",e)},delayInput(e){const t="string"===typeof e?e:e?.target?.value;this.$emit("update:value",t)},onFocus(){this.onFocusLabeled()},onBlur(e){this.$emit("blur",e),this.onBlurLabeled()},escapeHtml:S.ZD}});a(53530),a(51902);const V=(0,v.A)($,[["render",d],["__scopeId","data-v-1590120c"]]);var _=V},74803:function(e,t,a){"use strict";a.r(t);var o=a(36758),r=a.n(o),n=a(40935),s=a.n(n),i=s()(r());i.push([e.id,"button[data-v-135864a1]{all:unset;height:0;position:relative;top:-35px;float:right;margin-right:7px;cursor:pointer}button .align-value[data-v-135864a1]{padding-top:7px}.row.name-ns-description[data-v-135864a1]{max-height:61px}.row .namespace-select[data-v-135864a1]  .labeled-select{min-width:40%}.row .namespace-select[data-v-135864a1]  .labeled-select .v-select.inline.vs--single{padding-bottom:2px}.row.flip-direction[data-v-135864a1]{flex-direction:column}.row.flip-direction.name-ns-description[data-v-135864a1]{max-height:none}.row.flip-direction>div[data-v-135864a1]>*{margin-bottom:20px}",""]),t["default"]=i},76543:function(e,t,a){var o=a(88831);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var r=a(74825).A;r("599be99e",o,!0,{sourceMap:!1,shadowMode:!1})},85133:function(e,t,a){"use strict";a.r(t);var o=a(36758),r=a.n(o),n=a(40935),s=a.n(n),i=s()(r());i.push([e.id,".outer-container[data-v-deb715a0]{display:flex;flex-direction:column;flex:1;padding:0;justify-content:space-between}.header[data-v-deb715a0]{display:flex;align-content:space-between;align-items:center;margin-bottom:20px;border-bottom:var(--header-border-size) solid var(--header-border)}.header .step-sequence[data-v-deb715a0],.header>.title[data-v-deb715a0]{flex:1;min-height:60px;display:flex}.header .step-sequence .steps[data-v-deb715a0]{flex:1;margin:0 30px;display:flex;justify-content:space-between;list-style-type:none;padding:0}.header .step-sequence .steps[data-v-deb715a0]:focus{outline:none;box-shadow:none}.header .step-sequence .steps li.step[data-v-deb715a0]{display:flex;flex-direction:row;flex-grow:1;align-items:center}.header .step-sequence .steps li.step>span>span[data-v-deb715a0]:last-of-type{padding-bottom:0}.header .step-sequence .steps li.step[data-v-deb715a0]:last-of-type{flex-grow:0}.header .step-sequence .steps li.step .controls[data-v-deb715a0]{display:flex;flex-direction:column;align-items:center;width:40px;overflow:visible;padding-top:7px}.header .step-sequence .steps li.step .controls>span[data-v-deb715a0]{padding-bottom:3px;margin-bottom:5px;white-space:nowrap}.header .step-sequence .steps li.step.active .controls[data-v-deb715a0]{color:var(--primary)}.header .step-sequence .steps li.step:not(.disabled) .controls[data-v-deb715a0]:hover>*{color:var(--primary)!important;cursor:pointer}.header .step-sequence .steps li.step:not(.active) .controls[data-v-deb715a0]>*{color:var(--input-disabled-text);text-decoration:none}.header .step-sequence .steps .divider[data-v-deb715a0]{flex-basis:100%;border-top:1px solid var(--border);position:relative;top:17px}.cru__content .header .step-sequence .steps .divider[data-v-deb715a0]{top:13px}.header .choice-banner[data-v-deb715a0]{flex-basis:40%;display:flex;align-items:center;margin-bottom:10px}.header .choice-banner.selected[data-v-deb715a0]{background-color:var(--accent-btn)}.header .choice-banner.top H2[data-v-deb715a0]{margin:0}.header .choice-banner.top .title[data-v-deb715a0]{display:flex;align-items:center;justify-content:space-evenly;position:relative}.header .choice-banner.top .title>.subtitle[data-v-deb715a0]{margin-right:20px}.header .choice-banner.top .subtitle[data-v-deb715a0]{display:flex;flex-direction:column}.header .choice-banner.top .subtitle .subtext[data-v-deb715a0]{color:var(--input-label)}.header .choice-banner[data-v-deb715a0]:not(.top){box-shadow:0 0 12px 3px var(--box-bg);flex-direction:row;align-items:center;justify-content:start}.header .choice-banner[data-v-deb715a0]:not(.top):hover{outline:var(--outline-width) solid var(--outline);cursor:pointer}.header .choice-banner .round-image[data-v-deb715a0]{min-width:50px;height:50px;margin:10px 10px 10px 0;border-radius:50%;overflow:hidden}.header .choice-banner .round-image .logo[data-v-deb715a0]{min-width:50px;height:50px}.step-container[data-v-deb715a0]{position:relative;flex:1 1 auto;height:0;overflow-y:auto;padding:20px 2px 2px 2px;display:flex;flex-direction:column}.step-container__step[data-v-deb715a0]{overflow:hidden;display:flex;flex-direction:column;flex:1}.footer-error[data-v-deb715a0]{margin-top:-40px;margin-bottom:70px}.controls-row[data-v-deb715a0]{margin-left:-24px;margin-right:-24px;padding:10px 24px;display:flex;justify-content:space-between;padding-top:10px;border-top:var(--header-border-size) solid var(--header-border);position:absolute;bottom:0;width:100%;background:var(--body-bg)}.controls-row .controls-steps .btn[data-v-deb715a0]{margin-left:10px}",""]),t["default"]=i},88831:function(e,t,a){"use strict";a.r(t);var o=a(36758),r=a.n(o),n=a(40935),s=a.n(n),i=s()(r());i.push([e.id,".modal-overlay{position:absolute;top:0;left:0;width:100vw;height:100vh;background-color:var(--overlay-bg);display:flex;justify-content:center;align-items:center;z-index:53}.modal-overlay .modal-container{background-color:var(--modal-bg);border-radius:var(--border-radius);max-height:95vh;overflow:auto;border:2px solid var(--modal-border)}.modal-fade-enter-active,.modal-fade-leave-active{transition:opacity .2s}.modal-fade-enter,.modal-fade-leave-to{opacity:0}",""]),t["default"]=i},91825:function(e,t,a){"use strict";var o=a(14220),r=a(9274),n=a(65375);t.A=(0,r.defineComponent)({...n.A,props:{mode:{type:String,default:o.G5},realMode:{type:String,default:o.G5},as:{type:String,default:o.zD},value:{type:Object,required:!0},initialValue:{type:Object,default:null},liveValue:{type:Object,default:null},doneEvent:{type:Boolean,default:!1},useTabbedHash:{type:Boolean,default:void 0}}})},92691:function(e,t,a){"use strict";a.r(t);var o=a(36758),r=a.n(o),n=a(40935),s=a.n(n),i=s()(r());i.push([e.id,".validation-message{padding:5px;position:absolute;bottom:-35px}",""]),t["default"]=i},95301:function(e,t,a){var o=a(61349);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var r=a(74825).A;r("72d8f930",o,!0,{sourceMap:!1,shadowMode:!1})}}]);
//# sourceMappingURL=sbomscanner-ui-ext-0.3.0.umd.min.516.js.map