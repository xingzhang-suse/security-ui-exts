(("undefined"!==typeof self?self:this)["webpackChunksbombastic_image_vulnerability_scanner_0_2_1_private"]=("undefined"!==typeof self?self:this)["webpackChunksbombastic_image_vulnerability_scanner_0_2_1_private"]||[]).push([[739],{1111:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return f}});var r=t(9274);const n={class:"filled-height"},l={class:"row"},o={class:"col span-9"},s={class:"row mt-16"};function i(e,a,t,i,c,u){const d=(0,r.resolveComponent)("NameNsDescription"),p=(0,r.resolveComponent)("LabeledInput"),v=(0,r.resolveComponent)("Checkbox"),m=(0,r.resolveComponent)("CruResource");return(0,r.openBlock)(),(0,r.createElementBlock)("div",n,[(0,r.createVNode)(m,{"done-route":e.doneRoute,mode:e.mode,resource:e.value,description:e.t("imageScanner.vexManagement.cru.description"),subtypes:[],"validation-passed":!0,errors:c.errors,"cancel-event":!0,onError:a[3]||(a[3]=e=>c.errors=e),onFinish:e.save,onCancel:e.done},{default:(0,r.withCtx)((()=>[(0,r.createVNode)(d,{value:e.value,mode:e.mode,namespaced:!1,"description-placeholder":"imageScanner.vexManagement.cru.desc.placeholder","onUpdate:value":a[0]||(a[0]=a=>e.$emit("input",a))},null,8,["value","mode"]),(0,r.createElementVNode)("div",l,[(0,r.createElementVNode)("div",o,[(0,r.createVNode)(p,{value:e.value.spec.url,"onUpdate:value":a[1]||(a[1]=a=>e.value.spec.url=a),mode:e.mode,label:e.t("imageScanner.vexManagement.cru.uri.label"),"placeholder-key":"imageScanner.vexManagement.cru.uri.placeholder",required:!0},null,8,["value","mode","label"])])]),(0,r.createElementVNode)("div",s,[(0,r.createVNode)(v,{value:e.value.spec.enabled,"onUpdate:value":a[2]||(a[2]=a=>e.value.spec.enabled=a),tooltip:e.t("imageScanner.vexManagement.cru.enable.tooltip"),"data-testid":"imageScanner-vexManagement-cru-enable-checkbox",class:"check",type:"checkbox","label-key":"imageScanner.vexManagement.cru.enable.label",mode:e.mode},null,8,["value","tooltip","mode"])])])),_:1},8,["done-route","mode","resource","description","errors","onFinish","onCancel"])])}var c=t(40527),u=t(14384),d=t(42200),p=t(22128),v=t(91825),m=t(15446),g={name:"CruVexHub",components:{LabeledInput:p.o,NameNsDescription:c.A,CruResource:u.A,Checkbox:d.S},mixins:[v.A],data(){return this.value.spec||(this.value.spec={url:"",enabled:!0}),{errors:null,PAGE:m.KL,PRODUCT_NAME:m.KR}}},h=(t(50465),t(47433));const b=(0,h.A)(g,[["render",i],["__scopeId","data-v-454aec8c"]]);var f=b},5915:function(e,a,t){var r=t(73e3);r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals);var n=t(74825).A;n("25740f23",r,!0,{sourceMap:!1,shadowMode:!1})},35297:function(e,a,t){"use strict";t.r(a);var r=t(36758),n=t.n(r),l=t(40935),o=t.n(l),s=o()(n());s.push([e.id,".mt-16[data-v-454aec8c]{margin-top:16px}",""]),a["default"]=s},50465:function(e,a,t){var r=t(35297);r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals);var n=t(74825).A;n("447e5ab6",r,!0,{sourceMap:!1,shadowMode:!1})},73e3:function(e,a,t){"use strict";t.r(a);var r=t(36758),n=t.n(r),l=t(40935),o=t.n(l),s=o()(n());s.push([e.id,".registry-input-label[data-v-3478615d]{margin-bottom:16px;font-size:16px;line-height:20px;font-weight:400;font-family:Lato,sans-serif;color:#141419;display:block}.mt-24[data-v-3478615d]{margin-top:24px}",""]),a["default"]=s},90183:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return V}});var r=t(9274);const n={class:"filled-height"},l={class:"registry-input-label"},o={class:"row"},s={class:"col span-6"},i={class:"col span-6"},c={class:"registry-input-label mt-24"},u={class:"row"},d={class:"col span-6"},p={class:"registry-input-label mt-24"},v={class:"row"},m={class:"col span-6"},g={class:"col span-3"};function h(e,a,t,h,b,f){const S=(0,r.resolveComponent)("NameNsDescription"),N=(0,r.resolveComponent)("LabeledSelect"),y=(0,r.resolveComponent)("LabeledInput"),_=(0,r.resolveComponent)("CruResource");return(0,r.openBlock)(),(0,r.createElementBlock)("div",n,[(0,r.createVNode)(_,{"done-route":e.doneRoute,mode:e.mode,resource:e.value,subtypes:[],errors:b.errors,"validation-passed":f.validationPassed,onFinish:f.finish,onCancel:e.done},{default:(0,r.withCtx)((()=>[(0,r.createVNode)(S,{"name-label":"imageScanner.registries.configuration.cru.registry.label",value:e.value,mode:e.mode,"onUpdate:value":a[0]||(a[0]=a=>e.$emit("input",a))},null,8,["value","mode"]),(0,r.createElementVNode)("div",l,(0,r.toDisplayString)(e.t("imageScanner.registries.configuration.cru.registry.label")),1),(0,r.createElementVNode)("div",o,[(0,r.createElementVNode)("div",s,[(0,r.createVNode)(N,{value:e.value.spec.catalogType,"onUpdate:value":a[1]||(a[1]=a=>e.value.spec.catalogType=a),"data-testid":"registry-type-select",label:e.t("imageScanner.registries.configuration.cru.registry.type.label"),options:f.REGISTRY_TYPE_OPTIONS,"option-key":"value","option-label":"label",required:""},null,8,["value","label","options"])]),(0,r.createElementVNode)("div",i,[(0,r.createVNode)(y,{value:e.value.spec.uri,"onUpdate:value":a[2]||(a[2]=a=>e.value.spec.uri=a),label:e.t("imageScanner.registries.configuration.cru.registry.uri.label"),placeholder:e.t("imageScanner.registries.configuration.cru.registry.uri.placeholder"),required:""},null,8,["value","label","placeholder"])])]),(0,r.createElementVNode)("div",c,(0,r.toDisplayString)(e.t("imageScanner.registries.configuration.cru.authentication.label")),1),(0,r.createElementVNode)("div",u,[(0,r.createElementVNode)("div",d,[(0,r.createVNode)(N,{value:e.value.spec.authSecret,"onUpdate:value":a[3]||(a[3]=a=>e.value.spec.authSecret=a),"data-testid":"auth-secret-select",label:e.t("imageScanner.registries.configuration.cru.authentication.label"),mode:e.mode,options:f.options},null,8,["value","label","mode","options"])])]),(0,r.createElementVNode)("div",p,(0,r.toDisplayString)(e.t("imageScanner.registries.configuration.cru.scan.label")),1),(0,r.createElementVNode)("div",v,[(0,r.createElementVNode)("div",m,[(0,r.createVNode)(N,{value:e.value.spec.repositories,"onUpdate:value":[a[4]||(a[4]=a=>e.value.spec.repositories=a),e.update],"data-testid":"registry-scanning-repository-names",taggable:!0,searchable:!0,"push-tags":!0,"close-on-select":!1,mode:e.mode,multiple:!0,label:e.t("imageScanner.registries.configuration.cru.scan.repoName"),placeholder:e.value.spec.catalogType===f.REGISTRY_TYPE.OCI_DISTRIBUTION?e.t("imageScanner.registries.configuration.cru.scan.placeholder.ociDistribution"):e.t("imageScanner.registries.configuration.cru.scan.placeholder.nocatalog"),options:e.value.spec.repositories||[],disabled:"view"===e.mode,required:e.value.spec.catalogType===f.REGISTRY_TYPE.NO_CATALOG},null,8,["value","mode","label","placeholder","options","disabled","required","onUpdate:value"])]),(0,r.createElementVNode)("div",g,[(0,r.createVNode)(N,{value:e.value.spec.scanInterval,"onUpdate:value":a[5]||(a[5]=a=>e.value.spec.scanInterval=a),"data-testid":"registry-scanning-interval-select",placeholder:e.t("imageScanner.registries.configuration.cru.scan.schedule.placeholder",{manualScan:e.t("imageScanner.registries.configuration.cru.scan.schedule.manualScan")}),options:f.SCAN_INTERVAL_OPTIONS,"option-key":"value","option-label":"label",label:e.t("imageScanner.registries.configuration.cru.scan.schedule.label"),required:""},null,8,["value","placeholder","options","label"])])])])),_:1},8,["done-route","mode","resource","errors","validation-passed","onFinish","onCancel"])])}var b=t(91825),f=t(22128),S=t(40527),N=t(14384),y=t(40089),_=t(35664),E=t(53838),I=t(64470),C=t(17259),T={name:"CruRegistry",components:{LabeledInput:f.o,NameNsDescription:S.A,CruResource:N.A,LabeledSelect:y.A},mixins:[b.A],async fetch(){this.allSecrets=await this.$store.dispatch(`${this.inStore}/findAll`,{type:_.bB})},data(){return this.value.spec||(this.value.spec={catalogType:E.ng.OCI_DISTRIBUTION,authSecret:"",uri:"",repositories:[],scanInterval:E.nb.MANUAL}),null===this.value.spec.scanInterval&&(this.value.spec.scanInterval=E.nb.MANUAL),{inStore:this.$store.getters["currentProduct"].inStore,errors:null,allSecrets:null,filteredSecrets:null,PAGE:I.KL,PRODUCT_NAME:I.KR}},computed:{options(){let e=[];if(this.allSecrets){const a=this.value.metadata?.namespace?this.value.metadata.namespace:"default";this.allSecrets&&(e=this.allSecrets.filter((e=>e.metadata.namespace===a)).filter((e=>C.J.DOCKER_JSON===e._type)))}const a=e.map((e=>{const{metadata:a,id:t}=e,r=a.name;return{label:r,value:t.includes("/")?t.split("/")[1]:t}}));return a.unshift({label:this.t("generic.none"),value:""}),a},SCAN_INTERVAL_OPTIONS(){return E.FW},REGISTRY_TYPE_OPTIONS(){return E.Qk},REGISTRY_TYPE(){return E.ng},validationPassed(){const e=this.value?.spec||{},a=!!this.value?.metadata?.name?.trim(),t=!!e.catalogType,r=!!e.uri?.trim(),n=e.catalogType===E.ng.NO_CATALOG,l=!n||!!e.repositories?.length;return a&&t&&r&&l}},methods:{async finish(e){this.value.spec.scanInterval===E.nb.MANUAL&&delete this.value.spec.scanInterval;try{await this.save(e)}catch(a){this.errors.push(a)}finally{this.$router.push({name:`c-cluster-${I.KR}-${I.KL.REGISTRIES}`,params:{cluster:this.$route.params.cluster,product:I.KR}})}}}},A=(t(5915),t(47433));const R=(0,A.A)(T,[["render",h],["__scopeId","data-v-3478615d"]]);var V=R}}]);
//# sourceMappingURL=sbombastic-image-vulnerability-scanner-0.2.1-private.umd.min.edit.js.map