{"version":3,"file":"sbombastic-image-vulnerability-scanner-0.2.1-private.umd.min.edit.js","mappings":"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","sources":["webpack://sbombastic-image-vulnerability-scanner-0.2.1-private/./edit/sbombastic.rancher.io.vexhub.vue","webpack://sbombastic-image-vulnerability-scanner-0.2.1-private/./edit/sbombastic.rancher.io.vexhub.vue?1fff","webpack://sbombastic-image-vulnerability-scanner-0.2.1-private/./edit/sbombastic.rancher.io.registry.vue?7bbb","webpack://sbombastic-image-vulnerability-scanner-0.2.1-private/./edit/sbombastic.rancher.io.vexhub.vue?e927","webpack://sbombastic-image-vulnerability-scanner-0.2.1-private/./edit/sbombastic.rancher.io.vexhub.vue?8ac2","webpack://sbombastic-image-vulnerability-scanner-0.2.1-private/./edit/sbombastic.rancher.io.registry.vue?b2fd","webpack://sbombastic-image-vulnerability-scanner-0.2.1-private/./edit/sbombastic.rancher.io.registry.vue","webpack://sbombastic-image-vulnerability-scanner-0.2.1-private/./edit/sbombastic.rancher.io.registry.vue?a022"],"sourcesContent":["<script>\nimport NameNsDescription from '@shell/components/form/NameNsDescription.vue';\nimport CruResource from '@shell/components/CruResource.vue';\nimport { Checkbox } from '@components/Form/Checkbox';\nimport { LabeledInput } from '@components/Form/LabeledInput';\nimport CreateEditView from '@shell/mixins/create-edit-view';\nimport { PAGE, PRODUCT_NAME } from '@pkg/types/sbombastic-image-vulnerability-scanner';\n\nexport default {\n  name: 'CruVexHub',\n\n  components: {\n    LabeledInput,\n    NameNsDescription,\n    CruResource,\n    Checkbox,\n  },\n\n  mixins: [CreateEditView],\n\n  data() {\n    if (!this.value.spec) {\n      this.value.spec = {\n        url:     '',\n        enabled: true,\n      };\n    }\n\n    return {\n      errors: null,\n      PAGE,\n      PRODUCT_NAME,\n    };\n  },\n};\n</script>\n<template>\n  <div class=\"filled-height\">\n    <CruResource\n      :done-route=\"doneRoute\"\n      :mode=\"mode\"\n      :resource=\"value\"\n      :description=\"t('imageScanner.vexManagement.cru.description')\"\n      :subtypes=\"[]\"\n      :validation-passed=\"true\"\n      :errors=\"errors\"\n      :cancel-event=\"true\"\n      @error=\"(e) => (errors = e)\"\n      @finish=\"save\"\n      @cancel=\"done\"\n    >\n      <NameNsDescription\n        :value=\"value\"\n        :mode=\"mode\"\n        :namespaced=\"false\"\n        description-placeholder=\"imageScanner.vexManagement.cru.desc.placeholder\"\n        @update:value=\"$emit('input', $event)\"\n      />\n      <div class=\"row\">\n        <div class=\"col span-9\">\n          <LabeledInput\n            v-model:value=\"value.spec.url\"\n            :mode=\"mode\"\n            :label=\"t('imageScanner.vexManagement.cru.uri.label')\"\n            placeholder-key=\"imageScanner.vexManagement.cru.uri.placeholder\"\n            :required=\"true\"\n          />\n        </div>\n      </div>\n      <div class=\"row mt-16\">\n        <Checkbox\n          v-model:value=\"value.spec.enabled\"\n          :tooltip=\"t('imageScanner.vexManagement.cru.enable.tooltip')\"\n          data-testid=\"imageScanner-vexManagement-cru-enable-checkbox\"\n          class=\"check\"\n          type=\"checkbox\"\n          label-key=\"imageScanner.vexManagement.cru.enable.label\"\n          :mode=\"mode\"\n        />\n      </div>\n    </CruResource>\n  </div>\n</template>\n<style lang=\"scss\" scoped>\n.mt-16 {\n  margin-top: 16px;\n}\n</style>\n","import { render } from \"./sbombastic.rancher.io.vexhub.vue?vue&type=template&id=454aec8c&scoped=true\"\nimport script from \"./sbombastic.rancher.io.vexhub.vue?vue&type=script&lang=js\"\nexport * from \"./sbombastic.rancher.io.vexhub.vue?vue&type=script&lang=js\"\n\nimport \"./sbombastic.rancher.io.vexhub.vue?vue&type=style&index=0&id=454aec8c&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-454aec8c\"]])\n\nexport default __exports__","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-23.use[1]!../../../node_modules/vue-loader/dist/stylePostLoader.js!../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-23.use[2]!../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-23.use[3]!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-23.use[4]!../../../node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[1]!./sbombastic.rancher.io.registry.vue?vue&type=style&index=0&id=3478615d&lang=scss&scoped=true\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"25740f23\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".mt-16[data-v-454aec8c]{margin-top:16px}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-23.use[1]!../../../node_modules/vue-loader/dist/stylePostLoader.js!../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-23.use[2]!../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-23.use[3]!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-23.use[4]!../../../node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[1]!./sbombastic.rancher.io.vexhub.vue?vue&type=style&index=0&id=454aec8c&lang=scss&scoped=true\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"447e5ab6\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".registry-input-label[data-v-3478615d]{margin-bottom:16px;font-size:16px;line-height:20px;font-weight:400;font-family:Lato,sans-serif;color:#141419;display:block}.mt-24[data-v-3478615d]{margin-top:24px}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","<script>\nimport CreateEditView from '@shell/mixins/create-edit-view';\nimport { LabeledInput } from '@components/Form/LabeledInput';\nimport NameNsDescription from '@shell/components/form/NameNsDescription';\nimport CruResource from '@shell/components/CruResource';\nimport LabeledSelect from '@shell/components/form/LabeledSelect';\nimport { SECRET } from '@shell/config/types';\nimport {\n  REGISTRY_TYPE,\n  REGISTRY_TYPE_OPTIONS,\n  SCAN_INTERVAL_OPTIONS, SCAN_INTERVALS\n} from '@pkg/constants';\nimport { PRODUCT_NAME, PAGE } from '@pkg/types';\nimport { SECRET_TYPES } from '@shell/config/secret';\n\nexport default {\n  name: 'CruRegistry',\n\n  components: {\n    LabeledInput,\n    NameNsDescription,\n    CruResource,\n    LabeledSelect\n  },\n\n  mixins: [CreateEditView],\n\n  async fetch() {\n    this.allSecrets = await this.$store.dispatch(\n      `${ this.inStore }/findAll`, { type: SECRET }\n    );\n  },\n\n  data() {\n    if (!this.value.spec) {\n      this.value.spec = {\n        catalogType:  REGISTRY_TYPE.OCI_DISTRIBUTION,\n        authSecret:   '',\n        uri:          '',\n        repositories: [],\n        scanInterval: SCAN_INTERVALS.MANUAL,\n      };\n    }\n\n    if ( this.value.spec.scanInterval === null) {\n      this.value.spec.scanInterval = SCAN_INTERVALS.MANUAL;\n    }\n\n    return {\n      inStore:         this.$store.getters['currentProduct'].inStore,\n      errors:          null,\n      allSecrets:      null,\n      filteredSecrets: null,\n      PAGE,\n      PRODUCT_NAME,\n    };\n  },\n\n  computed: {\n\n    /**\n     * Filter secrets given their namespace and required secret type\n     *\n     * Convert secrets to list of options and supplement with custom entries\n     */\n    options() {\n      let filteredSecrets = [];\n\n      if (this.allSecrets) {\n        const currentNamespace = this.value.metadata?.namespace ? this.value.metadata.namespace : 'default';\n\n        if (this.allSecrets) {\n          // Filter secrets given their namespace\n          filteredSecrets = this.allSecrets\n            .filter((secret) => secret.metadata.namespace === currentNamespace)\n            .filter((secret) => SECRET_TYPES.DOCKER_JSON === secret._type\n            );\n        }\n      }\n\n      const out = filteredSecrets.map((x) => {\n        const { metadata, id } = x;\n        const label = metadata.name;\n\n        return {\n          label,\n          value: id.includes('/') ? id.split('/')[1] : id,\n        };\n      });\n\n      out.unshift({\n        label: this.t('generic.none'),\n        value: '',\n      });\n\n      return out;\n    },\n\n    SCAN_INTERVAL_OPTIONS() {\n      return SCAN_INTERVAL_OPTIONS;\n    },\n\n    REGISTRY_TYPE_OPTIONS() {\n      return REGISTRY_TYPE_OPTIONS;\n    },\n\n    REGISTRY_TYPE() {\n      return REGISTRY_TYPE;\n    },\n\n    validationPassed() {\n      const spec = this.value?.spec || {};\n\n      const hasName = !!this.value?.metadata?.name?.trim();\n      const hasCatalogType = !!spec.catalogType;\n      const hasUri = !!spec.uri?.trim();\n\n      const requiresRepositories = spec.catalogType === REGISTRY_TYPE.NO_CATALOG;\n      const hasRepositories = !requiresRepositories || !!spec.repositories?.length;\n\n      return hasName && hasCatalogType && hasUri && hasRepositories;\n    }\n  },\n\n  methods: {\n    async finish(event) {\n      if (this.value.spec.scanInterval === SCAN_INTERVALS.MANUAL) {\n        delete this.value.spec.scanInterval;\n      }\n\n      try {\n        await this.save(event);\n      } catch (e) {\n        this.errors.push(e);\n      } finally {\n        this.$router.push({\n          name:   `c-cluster-${ PRODUCT_NAME }-${ PAGE.REGISTRIES }`,\n          params: {\n            cluster: this.$route.params.cluster,\n            product: PRODUCT_NAME\n          }\n        });\n      }\n    }\n  }\n};\n</script>\n\n<template>\n  <div class=\"filled-height\">\n    <CruResource\n      :done-route=\"doneRoute\"\n      :mode=\"mode\"\n      :resource=\"value\"\n      :subtypes=\"[]\"\n      :errors=\"errors\"\n      :validation-passed=\"validationPassed\"\n      @finish=\"finish\"\n      @cancel=\"done\"\n    >\n      <NameNsDescription\n        name-label=\"imageScanner.registries.configuration.cru.registry.label\"\n        :value=\"value\"\n        :mode=\"mode\"\n        @update:value=\"$emit('input', $event)\"\n      />\n\n      <div class=\"registry-input-label\">\n        {{ t('imageScanner.registries.configuration.cru.registry.label') }}\n      </div>\n\n      <div class=\"row\">\n        <div class=\"col span-6\">\n          <LabeledSelect\n            v-model:value=\"value.spec.catalogType\"\n            data-testid=\"registry-type-select\"\n            :label=\"t('imageScanner.registries.configuration.cru.registry.type.label')\"\n            :options=\"REGISTRY_TYPE_OPTIONS\"\n            option-key=\"value\"\n            option-label=\"label\"\n            required\n          />\n        </div>\n        <div class=\"col span-6\">\n          <LabeledInput\n            v-model:value=\"value.spec.uri\"\n            :label=\"t('imageScanner.registries.configuration.cru.registry.uri.label')\"\n            :placeholder=\"t('imageScanner.registries.configuration.cru.registry.uri.placeholder')\"\n            required\n          />\n        </div>\n      </div>\n      <div class=\"registry-input-label mt-24\">\n        {{ t('imageScanner.registries.configuration.cru.authentication.label') }}\n      </div>\n      <div class=\"row\">\n        <div class=\"col span-6\">\n          <LabeledSelect\n            v-model:value=\"value.spec.authSecret\"\n            data-testid=\"auth-secret-select\"\n            :label=\"t('imageScanner.registries.configuration.cru.authentication.label')\"\n            :mode=\"mode\"\n            :options=\"options\"\n          />\n        </div>\n      </div>\n      <div class=\"registry-input-label mt-24\">\n        {{ t('imageScanner.registries.configuration.cru.scan.label') }}\n      </div>\n\n      <div class=\"row\">\n        <div class=\"col span-6\">\n          <LabeledSelect\n            v-model:value=\"value.spec.repositories\"\n            data-testid=\"registry-scanning-repository-names\"\n            :taggable=\"true\"\n            :searchable=\"true\"\n            :push-tags=\"true\"\n            :close-on-select=\"false\"\n            :mode=\"mode\"\n            :multiple=\"true\"\n            :label=\"t('imageScanner.registries.configuration.cru.scan.repoName')\"\n            :placeholder=\"value.spec.catalogType === REGISTRY_TYPE.OCI_DISTRIBUTION ? t('imageScanner.registries.configuration.cru.scan.placeholder.ociDistribution') : t('imageScanner.registries.configuration.cru.scan.placeholder.nocatalog')\"\n            :options=\"value.spec.repositories || []\"\n            :disabled=\"mode==='view'\"\n            :required=\"value.spec.catalogType === REGISTRY_TYPE.NO_CATALOG\"\n            @update:value=\"update\"\n          />\n        </div>\n        <div class=\"col span-3\">\n          <LabeledSelect\n            v-model:value=\"value.spec.scanInterval\"\n            data-testid=\"registry-scanning-interval-select\"\n            :placeholder=\"t('imageScanner.registries.configuration.cru.scan.schedule.placeholder', { manualScan: t('imageScanner.registries.configuration.cru.scan.schedule.manualScan') })\"\n            :options=\"SCAN_INTERVAL_OPTIONS\"\n            option-key=\"value\"\n            option-label=\"label\"\n            :label=\"t('imageScanner.registries.configuration.cru.scan.schedule.label')\"\n            required\n          />\n        </div>\n      </div>\n    </CruResource>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n.registry-input-label {\n  margin-bottom: 16px;\n  font-size: 16px;\n  line-height: 20px;\n  font-weight: 400;\n  font-family: 'Lato', sans-serif;\n  color: #141419;\n  display: block;\n}\n.mt-24 {\n  margin-top: 24px;\n}\n</style>\n","import { render } from \"./sbombastic.rancher.io.registry.vue?vue&type=template&id=3478615d&scoped=true\"\nimport script from \"./sbombastic.rancher.io.registry.vue?vue&type=script&lang=js\"\nexport * from \"./sbombastic.rancher.io.registry.vue?vue&type=script&lang=js\"\n\nimport \"./sbombastic.rancher.io.registry.vue?vue&type=style&index=0&id=3478615d&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-3478615d\"]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_hoisted_1","_createVNode","_component_CruResource","_ctx","doneRoute","mode","resource","value","description","t","subtypes","errors","$data","onError","_cache","e","onFinish","save","onCancel","done","_component_NameNsDescription","namespaced","$event","$emit","_createElementVNode","_hoisted_2","_hoisted_3","_component_LabeledInput","spec","url","label","required","_hoisted_4","_component_Checkbox","enabled","tooltip","type","name","components","LabeledInput","NameNsDescription","CruResource","Checkbox","mixins","CreateEditView","data","this","PAGE","PRODUCT_NAME","__exports__","render","content","__esModule","default","module","id","locals","exports","add","___CSS_LOADER_EXPORT___","push","$options","validationPassed","finish","_toDisplayString","_component_LabeledSelect","catalogType","options","REGISTRY_TYPE_OPTIONS","_hoisted_5","uri","placeholder","_hoisted_6","_hoisted_7","_hoisted_8","authSecret","_hoisted_9","_hoisted_10","_hoisted_11","repositories","update","taggable","searchable","multiple","REGISTRY_TYPE","OCI_DISTRIBUTION","disabled","NO_CATALOG","_hoisted_12","scanInterval","manualScan","SCAN_INTERVAL_OPTIONS","LabeledSelect","fetch","allSecrets","$store","dispatch","inStore","SECRET","SCAN_INTERVALS","MANUAL","getters","filteredSecrets","computed","currentNamespace","metadata","namespace","filter","secret","SECRET_TYPES","DOCKER_JSON","_type","out","map","x","includes","split","unshift","hasName","trim","hasCatalogType","hasUri","requiresRepositories","hasRepositories","length","methods","event","$router","REGISTRIES","params","cluster","$route","product"],"sourceRoot":""}