(("undefined"!==typeof self?self:this)["webpackChunksbombastic_image_vulnerability_scanner_0_1_0"]=("undefined"!==typeof self?self:this)["webpackChunksbombastic_image_vulnerability_scanner_0_1_0"]||[]).push([[739],{5356:function(e,a,t){"use strict";t.r(a);var r=t(36758),o=t.n(r),n=t(40935),l=t.n(n),s=l()(o());s.push([e.id,".mt-16[data-v-2d73774d]{margin-top:16px}",""]),a["default"]=s},16088:function(e,a,t){var r=t(53208);r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals);var o=t(74825).A;o("06c6452c",r,!0,{sourceMap:!1,shadowMode:!1})},47308:function(e,a,t){var r=t(5356);r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals);var o=t(74825).A;o("2845fcef",r,!0,{sourceMap:!1,shadowMode:!1})},53208:function(e,a,t){"use strict";t.r(a);var r=t(36758),o=t.n(r),n=t(40935),l=t.n(n),s=l()(o());s.push([e.id,".registry-input-label[data-v-36a7627e]{margin-bottom:16px;font-size:16px;line-height:20px;font-weight:500;font-family:Lato,sans-serif;color:#141419;display:block}.mt-24[data-v-36a7627e]{margin-top:24px}",""]),a["default"]=s},59284:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return f}});var r=t(9274);const o={class:"filled-height"},n={class:"row"},l={class:"col span-9"},s={class:"row mt-16"};function i(e,a,t,i,c,u){const d=(0,r.resolveComponent)("NameNsDescription"),p=(0,r.resolveComponent)("LabeledInput"),v=(0,r.resolveComponent)("Checkbox"),m=(0,r.resolveComponent)("CruResource");return(0,r.openBlock)(),(0,r.createElementBlock)("div",o,[(0,r.createVNode)(m,{"done-route":e.doneRoute,mode:e.mode,resource:e.value,description:e.t("imageScanner.vexManagement.cru.description"),subtypes:[],"validation-passed":!0,errors:c.errors,"cancel-event":!0,onError:a[3]||(a[3]=e=>c.errors=e),onFinish:e.save,onCancel:e.done},{default:(0,r.withCtx)((()=>[(0,r.createVNode)(d,{value:e.value,mode:e.mode,namespaced:!1,descriptionPlaceholder:"imageScanner.vexManagement.cru.desc.placeholder","onUpdate:value":a[0]||(a[0]=a=>e.$emit("input",a))},null,8,["value","mode"]),(0,r.createElementVNode)("div",n,[(0,r.createElementVNode)("div",l,[(0,r.createVNode)(p,{value:e.value.spec.url,"onUpdate:value":a[1]||(a[1]=a=>e.value.spec.url=a),mode:e.mode,label:e.t("imageScanner.vexManagement.cru.uri.label"),placeholderKey:"imageScanner.vexManagement.cru.uri.placeholder",required:!0},null,8,["value","mode","label"])])]),(0,r.createElementVNode)("div",s,[(0,r.createVNode)(v,{value:e.value.spec.enabled,"onUpdate:value":a[2]||(a[2]=a=>e.value.spec.enabled=a),tooltip:e.t("imageScanner.vexManagement.cru.enable.tooltip"),"data-testid":"imageScanner-vexManagement-cru-enable-checkbox",class:"check",type:"checkbox","label-key":"imageScanner.vexManagement.cru.enable.label",mode:e.mode},null,8,["value","tooltip","mode"])])])),_:1},8,["done-route","mode","resource","description","errors","onFinish","onCancel"])])}var c=t(40527),u=t(79665),d=t(53701),p=t(42200),v=t(69552),m=t(91825),h=t(15446),g={name:"CruVexHub",components:{LabeledInput:v.o,NameNsDescription:c.A,CruResource:u.A,Banner:d.A,Checkbox:p.S},mixins:[m.A],data(){return this.value.spec||(this.value.spec={url:"",enabled:!0}),{errors:null,PAGE:h.KL,PRODUCT_NAME:h.KR}}},b=(t(47308),t(47433));const S=(0,b.A)(g,[["render",i],["__scopeId","data-v-2d73774d"]]);var f=S},78709:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return x}});var r=t(9274);const o={class:"filled-height"},n={class:"registry-input-label"},l={class:"row"},s={class:"col span-6"},i={class:"col span-6"},c={class:"registry-input-label mt-24 mb-0"},u={class:"registry-input-label mt-24"},d={class:"row"},p={class:"col span-6"},v={class:"col span-3"};function m(e,a,t,m,h,g){const b=(0,r.resolveComponent)("NameNsDescription"),S=(0,r.resolveComponent)("LabeledSelect"),f=(0,r.resolveComponent)("LabeledInput"),E=(0,r.resolveComponent)("SelectOrCreateAuthSecret"),N=(0,r.resolveComponent)("CruResource");return(0,r.openBlock)(),(0,r.createElementBlock)("div",o,[(0,r.createVNode)(N,{"done-route":g.doneRoute,mode:e.mode,resource:e.value,description:e.t("imageScanner.registries.configuration.cru.description"),subtypes:[],"validation-passed":!0,errors:h.errors,"cancel-event":!0,onError:a[5]||(a[5]=e=>h.errors=e),onFinish:g.apply,onCancel:e.done},{default:(0,r.withCtx)((()=>[(0,r.createVNode)(b,{nameLabel:"imageScanner.registries.configuration.cru.registry.label",value:e.value,mode:e.mode,"onUpdate:value":a[0]||(a[0]=a=>e.$emit("input",a))},null,8,["value","mode"]),(0,r.createElementVNode)("div",n,(0,r.toDisplayString)(e.t("imageScanner.registries.configuration.cru.registry.label")),1),(0,r.createElementVNode)("div",l,[(0,r.createElementVNode)("div",s,[(0,r.createVNode)(S,{"data-testid":"registry-type-select",label:e.t("imageScanner.registries.configuration.cru.registry.type.label"),options:g.REGISTRY_TYPE_OPTIONS,"option-key":"value","option-label":"label",value:"dockerhub",required:""},null,8,["label","options"])]),(0,r.createElementVNode)("div",i,[(0,r.createVNode)(f,{label:e.t("imageScanner.registries.configuration.cru.registry.uri.label"),value:e.value.spec.uri,"onUpdate:value":a[1]||(a[1]=a=>e.value.spec.uri=a),placeholder:e.t("imageScanner.registries.configuration.cru.registry.uri.placeholder"),required:""},null,8,["label","value","placeholder"])])]),(0,r.createElementVNode)("div",c,(0,r.toDisplayString)(e.t("imageScanner.registries.configuration.cru.authentication.label")),1),(0,r.createVNode)(E,{value:e.value.spec.authSecret,"onUpdate:value":a[2]||(a[2]=a=>e.value.spec.authSecret=a),mode:e.mode,"data-testid":"registry-auth-secret","register-before-hook":e.registerBeforeHook,namespace:g.secretNamespace,"limit-to-namespace":!0,"in-store":g.inStore,"allow-ssh":!1,"generate-name":"registry-auth-","cache-secrets":!0},null,8,["value","mode","register-before-hook","namespace","in-store"]),(0,r.createElementVNode)("div",u,(0,r.toDisplayString)(e.t("imageScanner.registries.configuration.cru.scan.label")),1),(0,r.createElementVNode)("div",d,[(0,r.createElementVNode)("div",p,[(0,r.createVNode)(S,{"data-testid":"registry-scanning-repository-names",value:e.value.spec.repositories,"onUpdate:value":[a[3]||(a[3]=a=>e.value.spec.repositories=a),e.update],taggable:!0,searchable:!0,"push-tags":!0,"close-on-select":!1,mode:e.mode,multiple:!0,label:e.t("imageScanner.registries.configuration.cru.scan.repoName"),placeholder:e.t("imageScanner.registries.configuration.cru.scan.placeholder"),options:e.value.spec.repositories||[],disabled:"view"===e.mode},null,8,["value","mode","label","placeholder","options","disabled","onUpdate:value"])]),(0,r.createElementVNode)("div",v,[(0,r.createVNode)(S,{value:e.value.spec.scanInterval,"onUpdate:value":a[4]||(a[4]=a=>e.value.spec.scanInterval=a),"data-testid":"registry-scanning-interval-select",options:g.SCAN_INTERVAL_OPTIONS,"option-key":"value","option-label":"label",label:e.t("imageScanner.registries.configuration.cru.scan.schedule.label"),required:""},null,8,["value","options","label"])])])])),_:1},8,["done-route","mode","resource","description","errors","onFinish","onCancel"])])}var h=t(91825),g=t(77262),b=t(69552),S=t(40527),f=t(79665),E=t(21848),N=t(58737),R=t(42200),y=t(35664);const _={ONE_HOUR:"1h",THREE_HOURS:"3h",SIX_HOURS:"6h",TWELVE_HOURS:"12h",TWENTY_FOUR_HOURS:"24h",MANUAL:"0s"},C=[{label:"Every 1 hour",value:_.ONE_HOUR},{label:"Every 3 hours",value:_.THREE_HOURS},{label:"Every 6 hours",value:_.SIX_HOURS},{label:"Every 12 hours",value:_.TWELVE_HOURS},{label:"Every 24 hours",value:_.TWENTY_FOUR_HOURS},{label:"Manual Scan",value:_.MANUAL}],O={DOCKERHUB:"dockerhub"},U=[{label:"Docker Hub",value:O.DOCKERHUB}];var A=t(64470),V=t(4364),I={name:"CruRegistry",components:{Footer:g.A,LabeledInput:b.o,NameNsDescription:S.A,CruResource:f.A,SelectOrCreateAuthSecret:E.A,Checkbox:R.S,LabeledSelect:N.A},mixins:[h.A],data(){return this.value.spec||(this.value.spec={authSecret:"",uri:"",repositories:[]}),this.value.status||(this.value.status={conditions:[]}),{inStore:this.$store.getters["currentProduct"].inStore,errors:null,PAGE:A.KL,PRODUCT_NAME:A.KR}},computed:{inStore(){return this.$store.getters["currentProduct"]?.inStore||y.Mc},secretNamespace(){const e=this.value.metadata?.namespace?this.value.metadata.namespace:this.$store.getters["defaultNamespace"],a=[e,"default"];for(const t of a)if(this.$store.getters["cluster/byId"](y.CU,t))return t;return this.$store.getters[`${this.inStore}/all`](y.CU)[0]?.id},SCAN_INTERVAL_OPTIONS:function(){return C},REGISTRY_TYPE_OPTIONS:function(){return U},doneLocationOverride(){return`/c/${this.$route.params.cluster}/${this.PRODUCT_NAME}/${this.PAGE.REGISTRIES}`}},methods:{apply(e){V.log("finish apply"),this.save(e).then((()=>{this.$emit("done")})).catch((e=>{this.errors=e})).finally((()=>{this.$router.push({name:`c-cluster-${A.KR}-${A.KL.REGISTRIES}`,params:{cluster:this.$route.params.cluster,product:A.KR}})}))},doneRoute(){return V.log("doneRoute"),`c-cluster-${A.KR}-${A.KL.REGISTRIES}`}},created(){const e=this.value.spec;e.scanInterval??=_.THREE_HOURS}},T=(t(16088),t(47433));const k=(0,T.A)(I,[["render",m],["__scopeId","data-v-36a7627e"]]);var x=k}}]);
//# sourceMappingURL=sbombastic-image-vulnerability-scanner-0.1.0.umd.min.edit.js.map